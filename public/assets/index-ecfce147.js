import{d as te,r as O,as as Ne,bk as Te,e as D,aM as Le,bl as Ye,aA as qe,w as Ke,Z as Je,bm as Qe,ae as ze,af as Me,ab as L,bn as Ze,T as De,bo as et,bp as je,bq as tt,aS as pe,br as nt,bs as st,bt as ot,aG as R,bu as me,aH as q,aI as ee,aK as ie,bv as rt,bw as at,aN as Fe,aQ as Be,aP as Re,bx as it,aR as lt,by as ct,bz as dt,bA as ut,bd as Ie,bB as ft,aW as ne,at as pt,bC as ht,C as ve,u as ue,b as ge,Q as mt,bD as Ue,bE as vt,h as be,o as N,c as J,k as d,l as c,m as e,bF as de,bG as Q,a as t,t as T,J as F,U as Ae,A as se,I as U,p as G,s as Z,al as oe,F as He,j as gt,bH as bt,bI as yt,f as We,ad as Ge,a6 as he,a7 as Pe,aZ as _t,a_ as Se,bJ as $e,q as Oe,bK as xt,bL as wt,a9 as Ct,bM as kt,E as Ee,bN as St,bO as $t,K as ce,bP as fe,O as zt,n as Et,ap as Tt,bQ as At,bR as Pt,aa as Mt}from"./index-9247ed63.js";import{N as Ve}from"./DataTable-d9c5ccbc.js";import{_ as Bt}from"./titleBar.vue_vue_type_script_setup_true_lang-247c5f50.js";import{N as Rt}from"./LayoutSider-f22e373e.js";import"./Select-394a57d0.js";const It=te({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentClass:String,contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(o){const s=O(!!o.show),r=O(null),A=Ne(Te);let _=0,u="",l=null;const n=O(!1),a=O(!1),f=D(()=>o.placement==="top"||o.placement==="bottom"),{mergedClsPrefixRef:b,mergedRtlRef:x}=Le(o),$=Ye("Drawer",x,b),z=k=>{a.value=!0,_=f.value?k.clientY:k.clientX,u=document.body.style.cursor,document.body.style.cursor=f.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",B),document.body.addEventListener("mouseleave",g),document.body.addEventListener("mouseup",I)},v=()=>{l!==null&&(window.clearTimeout(l),l=null),a.value?n.value=!0:l=window.setTimeout(()=>{n.value=!0},300)},i=()=>{l!==null&&(window.clearTimeout(l),l=null),n.value=!1},{doUpdateHeight:p,doUpdateWidth:M}=A,W=k=>{const{maxWidth:j}=o;if(j&&k>j)return j;const{minWidth:H}=o;return H&&k<H?H:k},V=k=>{const{maxHeight:j}=o;if(j&&k>j)return j;const{minHeight:H}=o;return H&&k<H?H:k},B=k=>{var j,H;if(a.value)if(f.value){let X=((j=r.value)===null||j===void 0?void 0:j.offsetHeight)||0;const K=_-k.clientY;X+=o.placement==="bottom"?K:-K,X=V(X),p(X),_=k.clientY}else{let X=((H=r.value)===null||H===void 0?void 0:H.offsetWidth)||0;const K=_-k.clientX;X+=o.placement==="right"?K:-K,X=W(X),M(X),_=k.clientX}},I=()=>{a.value&&(_=0,a.value=!1,document.body.style.cursor=u,document.body.removeEventListener("mousemove",B),document.body.removeEventListener("mouseup",I),document.body.removeEventListener("mouseleave",g))},g=I;qe(()=>{o.show&&(s.value=!0)}),Ke(()=>o.show,k=>{k||I()}),Je(()=>{I()});const E=D(()=>{const{show:k}=o,j=[[Me,k]];return o.showMask||j.push([tt,o.onClickoutside,void 0,{capture:!0}]),j});function S(){var k;s.value=!1,(k=o.onAfterLeave)===null||k===void 0||k.call(o)}return Qe(D(()=>o.blockScroll&&s.value)),pe(nt,r),pe(st,null),pe(ot,null),{bodyRef:r,rtlEnabled:$,mergedClsPrefix:A.mergedClsPrefixRef,isMounted:A.isMountedRef,mergedTheme:A.mergedThemeRef,displayed:s,transitionName:D(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[o.placement]),handleAfterLeave:S,bodyDirectives:E,handleMousedownResizeTrigger:z,handleMouseenterResizeTrigger:v,handleMouseleaveResizeTrigger:i,isDragging:a,isHoverOnResizeTrigger:n}},render(){const{$slots:o,mergedClsPrefix:s}=this;return this.displayDirective==="show"||this.displayed||this.show?ze(L("div",{role:"none"},L(Ze,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>L(De,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>ze(L("div",et(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${s}-drawer`,this.rtlEnabled&&`${s}-drawer--rtl`,`${s}-drawer--${this.placement}-placement`,this.isDragging&&`${s}-drawer--unselectable`,this.nativeScrollbar&&`${s}-drawer--native-scrollbar`]}),[this.resizable?L("div",{class:[`${s}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${s}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?L("div",{class:[`${s}-drawer-content-wrapper`,this.contentClass],style:this.contentStyle,role:"none"},o):L(je,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:[`${s}-drawer-content-wrapper`,this.contentClass],theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),o)]),this.bodyDirectives)})})),[[Me,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:Ot,cubicBezierEaseOut:Nt}=me;function Lt({duration:o="0.3s",leaveDuration:s="0.2s",name:r="slide-in-from-right"}={}){return[R(`&.${r}-transition-leave-active`,{transition:`transform ${s} ${Ot}`}),R(`&.${r}-transition-enter-active`,{transition:`transform ${o} ${Nt}`}),R(`&.${r}-transition-enter-to`,{transform:"translateX(0)"}),R(`&.${r}-transition-enter-from`,{transform:"translateX(100%)"}),R(`&.${r}-transition-leave-from`,{transform:"translateX(0)"}),R(`&.${r}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:Dt,cubicBezierEaseOut:jt}=me;function Ft({duration:o="0.3s",leaveDuration:s="0.2s",name:r="slide-in-from-left"}={}){return[R(`&.${r}-transition-leave-active`,{transition:`transform ${s} ${Dt}`}),R(`&.${r}-transition-enter-active`,{transition:`transform ${o} ${jt}`}),R(`&.${r}-transition-enter-to`,{transform:"translateX(0)"}),R(`&.${r}-transition-enter-from`,{transform:"translateX(-100%)"}),R(`&.${r}-transition-leave-from`,{transform:"translateX(0)"}),R(`&.${r}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:Ut,cubicBezierEaseOut:Ht}=me;function Wt({duration:o="0.3s",leaveDuration:s="0.2s",name:r="slide-in-from-top"}={}){return[R(`&.${r}-transition-leave-active`,{transition:`transform ${s} ${Ut}`}),R(`&.${r}-transition-enter-active`,{transition:`transform ${o} ${Ht}`}),R(`&.${r}-transition-enter-to`,{transform:"translateY(0)"}),R(`&.${r}-transition-enter-from`,{transform:"translateY(-100%)"}),R(`&.${r}-transition-leave-from`,{transform:"translateY(0)"}),R(`&.${r}-transition-leave-to`,{transform:"translateY(-100%)"})]}const{cubicBezierEaseIn:Gt,cubicBezierEaseOut:Vt}=me;function Xt({duration:o="0.3s",leaveDuration:s="0.2s",name:r="slide-in-from-bottom"}={}){return[R(`&.${r}-transition-leave-active`,{transition:`transform ${s} ${Gt}`}),R(`&.${r}-transition-enter-active`,{transition:`transform ${o} ${Vt}`}),R(`&.${r}-transition-enter-to`,{transform:"translateY(0)"}),R(`&.${r}-transition-enter-from`,{transform:"translateY(100%)"}),R(`&.${r}-transition-leave-from`,{transform:"translateY(0)"}),R(`&.${r}-transition-leave-to`,{transform:"translateY(100%)"})]}const Yt=R([q("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[Lt(),Ft(),Wt(),Xt(),ee("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),ee("native-scrollbar",[q("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),ie("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[ee("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),q("drawer-content-wrapper",`
 box-sizing: border-box;
 `),q("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[ee("native-scrollbar",[q("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),q("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),q("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),q("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[ie("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),q("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),ee("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 `,[ie("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),ee("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 `,[ie("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),ee("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 `,[ie("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),ee("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 `,[ie("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),R("body",[R(">",[q("drawer-container",{position:"fixed"})])]),q("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[R("> *",{pointerEvents:"all"})]),q("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[ee("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),rt({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),qt=Object.assign(Object.assign({},Fe.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentClass:String,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),Kt=te({name:"Drawer",inheritAttrs:!1,props:qt,setup(o){const{mergedClsPrefixRef:s,namespaceRef:r,inlineThemeDisabled:A}=Le(o),_=at(),u=Fe("Drawer","-drawer",Yt,ut,o,s),l=O(o.defaultWidth),n=O(o.defaultHeight),a=Be(Re(o,"width"),l),f=Be(Re(o,"height"),n),b=D(()=>{const{placement:g}=o;return g==="top"||g==="bottom"?"":Ie(a.value)}),x=D(()=>{const{placement:g}=o;return g==="left"||g==="right"?"":Ie(f.value)}),$=g=>{const{onUpdateWidth:E,"onUpdate:width":S}=o;E&&ne(E,g),S&&ne(S,g),l.value=g},z=g=>{const{onUpdateHeight:E,"onUpdate:width":S}=o;E&&ne(E,g),S&&ne(S,g),n.value=g},v=D(()=>[{width:b.value,height:x.value},o.drawerStyle||""]);function i(g){const{onMaskClick:E,maskClosable:S}=o;S&&V(!1),E&&E(g)}function p(g){i(g)}const M=it();function W(g){var E;(E=o.onEsc)===null||E===void 0||E.call(o),o.show&&o.closeOnEsc&&ft(g)&&!M.value&&V(!1)}function V(g){const{onHide:E,onUpdateShow:S,"onUpdate:show":k}=o;S&&ne(S,g),k&&ne(k,g),E&&!g&&ne(E,g)}pe(Te,{isMountedRef:_,mergedThemeRef:u,mergedClsPrefixRef:s,doUpdateShow:V,doUpdateHeight:z,doUpdateWidth:$});const B=D(()=>{const{common:{cubicBezierEaseInOut:g,cubicBezierEaseIn:E,cubicBezierEaseOut:S},self:{color:k,textColor:j,boxShadow:H,lineHeight:X,headerPadding:K,footerPadding:ye,bodyPadding:_e,titleFontSize:xe,titleTextColor:we,titleFontWeight:re,headerBorderBottom:le,footerBorderTop:Ce,closeIconColor:ke,closeIconColorHover:C,closeIconColorPressed:m,closeColorHover:h,closeColorPressed:y,closeIconSize:w,closeSize:P,closeBorderRadius:Y,resizableTriggerColorHover:ae}}=u.value;return{"--n-line-height":X,"--n-color":k,"--n-text-color":j,"--n-box-shadow":H,"--n-bezier":g,"--n-bezier-out":S,"--n-bezier-in":E,"--n-header-padding":K,"--n-body-padding":_e,"--n-footer-padding":ye,"--n-title-text-color":we,"--n-title-font-size":xe,"--n-title-font-weight":re,"--n-header-border-bottom":le,"--n-footer-border-top":Ce,"--n-close-icon-color":ke,"--n-close-icon-color-hover":C,"--n-close-icon-color-pressed":m,"--n-close-size":P,"--n-close-color-hover":h,"--n-close-color-pressed":y,"--n-close-icon-size":w,"--n-close-border-radius":Y,"--n-resize-trigger-color-hover":ae}}),I=A?lt("drawer",void 0,B,o):void 0;return{mergedClsPrefix:s,namespace:r,mergedBodyStyle:v,handleOutsideClick:p,handleMaskClick:i,handleEsc:W,mergedTheme:u,cssVars:A?void 0:B,themeClass:I==null?void 0:I.themeClass,onRender:I==null?void 0:I.onRender,isMounted:_}},render(){const{mergedClsPrefix:o}=this;return L(dt,{to:this.to,show:this.show},{default:()=>{var s;return(s=this.onRender)===null||s===void 0||s.call(this),ze(L("div",{class:[`${o}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?L(De,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?L("div",{"aria-hidden":!0,class:[`${o}-drawer-mask`,this.showMask==="transparent"&&`${o}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,L(It,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,contentClass:this.contentClass,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleOutsideClick}),this.$slots)),[[ct,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Jt={title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Qt=te({name:"DrawerContent",props:Jt,setup(){const o=Ne(Te,null);o||pt("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:s}=o;function r(){s(!1)}return{handleCloseClick:r,mergedTheme:o.mergedThemeRef,mergedClsPrefix:o.mergedClsPrefixRef}},render(){const{title:o,mergedClsPrefix:s,nativeScrollbar:r,mergedTheme:A,bodyClass:_,bodyStyle:u,bodyContentClass:l,bodyContentStyle:n,headerClass:a,headerStyle:f,footerClass:b,footerStyle:x,scrollbarProps:$,closable:z,$slots:v}=this;return L("div",{role:"none",class:[`${s}-drawer-content`,r&&`${s}-drawer-content--native-scrollbar`]},v.header||o||z?L("div",{class:[`${s}-drawer-header`,a],style:f,role:"none"},L("div",{class:`${s}-drawer-header__main`,role:"heading","aria-level":"1"},v.header!==void 0?v.header():o),z&&L(ht,{onClick:this.handleCloseClick,clsPrefix:s,class:`${s}-drawer-header__close`,absolute:!0})):null,r?L("div",{class:[`${s}-drawer-body`,_],style:u,role:"none"},L("div",{class:[`${s}-drawer-body-content-wrapper`,l],style:n,role:"none"},v)):L(je,Object.assign({themeOverrides:A.peerOverrides.Scrollbar,theme:A.peers.Scrollbar},$,{class:`${s}-drawer-body`,contentClass:[`${s}-drawer-body-content-wrapper`,l],contentStyle:n}),v),v.footer?L("div",{class:[`${s}-drawer-footer`,b],style:x,role:"none"},v.footer()):null)}}),Zt={1:"注册赠送",2:"受邀请赠送",3:"邀请他人赠送",4:"购买卡密充值",5:"管理员赠送",6:"扫码购买充值",7:"MJ绘画失败退款",8:"签到奖励"},en={class:"flex h-full flex-col"},tn=t("div",null,"用户钱包余额",-1),nn=t("div",{class:"text-[#95aac9] mb-2 text-base"}," 基础模型余额 ",-1),sn={class:"text-3xl text-[#555]"},on=t("span",{class:"ml-4 text-[#989898]"},"不同模型消费不同积分！",-1),rn=t("div",{class:"text-[#95aac9] mb-2 text-base"}," 高级模型余额 ",-1),an={class:"text-3xl text-[#555]"},ln=t("span",{class:"ml-4 text-[#989898]"},"不同模型消费不同积分！",-1),cn=t("div",{class:"text-[#95aac9] mb-2 text-base"}," MJ绘画余额 ",-1),dn={class:"text-3xl text-[#555]"},un=t("span",{class:"ml-4 text-[#989898]"},"不同画图消耗不同积分！",-1),fn=t("div",{class:"text-[#95aac9] mb-2 text-base"}," 卡密充值 ",-1),pn=t("div",null,"充值记录",-1),hn={class:"relative"},mn=["src"],vn={class:"flex justify-between items-end min-h-28"},gn=t("span",{class:"text-sm font-bold mr-1"},"基础模型额度",-1),bn={class:"font-bold"},yn={class:"flex justify-between items-end min-h-28"},_n=t("span",{class:"text-sm font-bold mr-1"},"高级模型额度",-1),xn={class:"font-bold"},wn={class:"flex justify-between items-end min-h-28"},Cn=t("span",{class:"text-sm font-bold mr-1"},"MJ绘画额度",-1),kn={class:"font-bold"},Sn={class:"flex justify-between items-end mt-5"},$n={class:"text-xl text-[red] font-bold"},zn=te({__name:"wallet",setup(o){const{isSmallMd:s,isMobile:r}=ve(),A=ue(),_=ge();mt();const u=D(()=>A.userBalance),l=O(!1),n=O(""),a=O(!1),f=O([]),b=O(!1),x=Ue({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,20,50],onChange:B=>{x.page=B,v()},onUpdatePageSize:B=>{x.pageSize=B,x.page=1,v()}}),$=D(()=>[{title:"订单编号",key:"uid"},{title:"充值类型",key:"rechargeType",render(B){return Zt[B.rechargeType]}},{title:"基础模型额度",key:"model3Count"},{title:"高级模型额度",key:"model4Count"},{title:"MJ绘画额度",key:"drawMjCount"},{title:"有效期",key:"expireDateCn"},{title:"充值时间",key:"createdAt",render(B){return B.createdAt}}]),z=O([]);async function v(){const B=await vt({page:x.page,size:x.pageSize}),{rows:I}=B.data;z.value=I}async function i(){if(!n.value)return _.warning("请先填写卡密！");try{l.value=!0,await bt({code:n.value}),_.success("卡密兑换成功、祝您使用愉快！"),v(),A.getUserInfo(),l.value=!1}catch{l.value=!1}}function p(){a.value=!0}async function M(){const B=await yt({status:1,size:30});f.value=B.data.rows}const W=D(()=>{var B;return(B=A.globalConfig)==null?void 0:B.buyCramiAddress});function V(){window.open(W.value)}return be(()=>{v()}),(B,I)=>(N(),J("div",en,[d(e(oe),null,{header:c(()=>[tn]),default:c(()=>[d(e(de),{"x-gap":24,"y-gap":24,cols:e(s)?1:2,class:"mt-3"},{default:c(()=>[d(e(Q),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[nn,t("b",sn,T(e(u).sumModel3Count??0),1),F(),on]),_:1}),d(e(Q),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[rn,t("b",an,T(e(u).sumModel4Count??0),1),F(),ln]),_:1}),d(e(Q),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[cn,t("b",dn,T(e(u).sumDrawMjCount??0),1),F(),un]),_:1}),d(e(Q),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[fn,d(e(Ae),{wrap:!1},{default:c(()=>[d(e(se),{value:n.value,"onUpdate:value":I[0]||(I[0]=g=>n.value=g),placeholder:"请粘贴或填写您的卡密信息！",class:"mr-3",maxlength:"128","show-count":"",clearable:""},null,8,["value"]),d(e(U),{type:"primary",loading:l.value,onClick:i},{default:c(()=>[F(" 兑换 ")]),_:1},8,["loading"]),e(W)?(N(),G(e(U),{key:0,type:"success",onClick:p},{default:c(()=>[F(" 购买卡密 ")]),_:1})):Z("",!0)]),_:1})]),_:1})]),_:1},8,["cols"])]),_:1}),d(e(oe),{class:"mt-5 flex-1"},{header:c(()=>[pn]),default:c(()=>[d(e(Ve),{columns:e($),loading:b.value,"scroll-x":800,data:z.value,"max-height":"280",pagination:x},null,8,["columns","loading","data","pagination"])]),_:1}),d(e(Kt),{show:a.value,"onUpdate:show":I[1]||(I[1]=g=>a.value=g),width:e(s)?"100%":502,"on-after-enter":M},{default:c(()=>[d(e(Qt),{title:"套餐购买",closable:""},{default:c(()=>[d(e(de),{"x-gap":15,"y-gap":15,cols:e(s)?1:2,class:"mt-3"},{default:c(()=>[(N(!0),J(He,null,gt(f.value,(g,E)=>(N(),G(e(Q),{key:E},{default:c(()=>[d(e(oe),{size:"small",embedded:""},{header:c(()=>[t("div",hn,[t("b",null,T(g.name),1)])]),cover:c(()=>[t("img",{src:g.coverImg},null,8,mn)]),default:c(()=>[t("div",null,[t("p",null,T(g.des),1),t("div",vn,[gn,t("span",bn,T(g.model3Count),1)]),t("div",yn,[_n,t("span",xn,T(g.model4Count),1)]),t("div",wn,[Cn,t("span",kn,T(g.drawMjCount),1)]),t("div",Sn,[t("i",$n,T(`￥${g.price}`),1),d(e(U),{type:"primary",dashed:"",size:"small",onClick:V},{default:c(()=>[F(" 购买套餐 ")]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["cols"])]),_:1})]),_:1},8,["show","width"])]))}}),En={class:"flex flex-col justify-center items-center"},Tn={class:"text-2xl text-primary self-start mb-3 flex justify-between w-full"},An=t("span",null,"Profile",-1),Pn={class:"mt-3 text-lg text-[#555]"},Mn={class:"text-[#95aac9] mt-2"},Bn={class:"text-[#555] mt-3 px-4"},Rn={class:"self-start"},In=t("div",{class:"flex pl-3 pt-3 text-base font-bold text-primary"},[t("span",null,"我的账户余额")],-1),On={key:0,class:"flex pl-3 pt-3 text-base font-bold text-primary"},Nn=t("span",null,"会员过期时间：",-1),Ln={class:"flex items-center space-x-4 pl-3 mt-3"},Dn=t("span",{class:"flex-shrink-0 w-24 text-primary"},"基础模型余额:",-1),jn={class:"w-[200px]"},Fn={class:"flex items-center space-x-4 pl-3 mt-3"},Un=t("span",{class:"flex-shrink-0 w-24 text-primary"},"高级模型余额:",-1),Hn={class:"w-[200px]"},Wn={class:"flex items-center space-x-4 pl-3 mt-3"},Gn=t("span",{class:"flex-shrink-0 w-24 text-primary"},"绘画余额:",-1),Vn={class:"w-[200px]"},Xn={class:"flex items-center space-x-4 pl-3 mt-3"},Yn=t("span",{class:"flex-shrink-0 w-24 text-primary"},"绑定微信:",-1),qn={class:"w-[200px]"},Kn={key:1},Jn=te({__name:"detail",setup(o){const s=ue(),r=We(),{userBalance:A}=s,_=Ge(),u=D(()=>s.userInfo.email||""),l=D(()=>s.userInfo.isBindWx),n=O(s.userInfo.avatar??he),a=O(s.userInfo.username??"未登录"),f=O(s.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。");function b(){s.logOut(),r.push("/")}const x=D(()=>s.isLogin);return be(()=>{x.value||s.setLoginDialog(!0)}),($,z)=>(N(),J("div",En,[t("div",Tn,[An,e(x)?(N(),G(e(U),{key:0,tertiary:"",type:"error",onClick:b},{default:c(()=>[F(" 退出登录 ")]),_:1})):Z("",!0),e(x)?Z("",!0):(N(),G(e(U),{key:1,tertiary:"",type:"success",onClick:z[0]||(z[0]=v=>e(s).setLoginDialog(!0))},{default:c(()=>[F(" 点击登入 ")]),_:1}))]),d(e(Pe),{size:148,src:n.value,"fallback-src":e(he)},null,8,["src","fallback-src"]),t("b",Pn,T(a.value),1),t("span",Mn,T(e(u)),1),t("div",Bn,T(f.value),1),t("div",Rn,[In,e(A).expirationTime?(N(),J("div",On,[Nn,t("span",null,T(e(A).expirationTime),1)])):Z("",!0),t("div",Ln,[Dn,t("div",jn,T(e(A).sumModel3Count||"0")+" 积分 ",1)]),t("div",Fn,[Un,t("div",Hn,T(e(A).sumModel4Count||"0")+" 积分 ",1)]),t("div",Wn,[Gn,t("div",Vn,T(e(A).sumDrawMjCount||"0")+" 积分 ",1)]),t("div",Xn,[Yn,t("div",qn,[e(l)?(N(),J("span",Kn,"已绑定微信")):(N(),G(e(U),{key:0,text:"",onClick:z[1]||(z[1]=v=>e(_).updateBindwxDialog(!0))},{default:c(()=>[F(" 点击绑定微信 ")]),_:1}))])])])]))}}),Qn=t("div",null,"变更您的密码",-1),Zn={class:"flex justify-between"},es=t("span",{class:"text-[#95AAC9]"},"更新密码后将重新登录！",-1),ts=t("b",{class:"text-base"},"密码要求",-1),ns=t("p",{class:"text-[#95AAC9] mt-3"}," 新的密码必须满足以下所有要求。 ",-1),ss=t("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 最少6个字符 ",-1),os=t("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 最多30个字符 ",-1),rs=t("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 至少带有一个数字 ",-1),as=te({__name:"password",setup(o){const s=O({oldPassword:"",password:"",reenteredPassword:""}),r=s,A=O(null),_=O(null),u={oldPassword:[{required:!0,min:6,message:"密码最短长度为6位数",trigger:["blur"]},{required:!0,max:30,message:"密码最长长度为30位数",trigger:["blur"]}],password:[{required:!0,message:"请输入密码"}],reenteredPassword:[{required:!0,message:"请再次输入密码",trigger:["input","blur"]},{validator:l,message:"两次密码输入不一致",trigger:"input"},{validator:n,message:"两次密码输入不一致",trigger:["blur","password-input"]}]};function l(i,p){return!!s.value.password&&s.value.password.startsWith(p)&&s.value.password.length>=p.length}function n(i,p){return p===s.value.password}function a(){var i;s.value.reenteredPassword&&((i=_.value)==null||i.validate({trigger:"password-input"}))}const{isSmallXl:f}=ve(),b=ue(),x=ge();async function $(i){(await xt(i)).success&&x.success("密码更新成功、请重新登录系统！"),z(),b.updatePasswordSuccess()}function z(){s.value={oldPassword:"",password:"",reenteredPassword:""}}function v(i){var p;i.preventDefault(),(p=A.value)==null||p.validate(async M=>{if(!M){const{oldPassword:W,password:V}=s.value;$({oldPassword:W,password:V})}})}return(i,p)=>(N(),G(e(oe),null,{header:c(()=>[Qn]),default:c(()=>[d(e(de),{"x-gap":24,"y-gap":24,cols:e(f)?1:3,class:"mt-3"},{default:c(()=>[d(e(Q),{class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:"2"},{default:c(()=>[d(e(_t),{ref_key:"formRef",ref:A,model:e(r),rules:u},{default:c(()=>[d(e(Se),{path:"oldPassword",label:"旧密码"},{default:c(()=>[d(e(se),{value:e(r).oldPassword,"onUpdate:value":p[0]||(p[0]=M=>e(r).oldPassword=M),onKeydown:p[1]||(p[1]=$e(Oe(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),d(e(Se),{path:"password",label:"新密码"},{default:c(()=>[d(e(se),{value:e(r).password,"onUpdate:value":p[2]||(p[2]=M=>e(r).password=M),type:"password",onInput:a,onKeydown:p[3]||(p[3]=$e(Oe(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),d(e(Se),{ref_key:"rPasswordFormItemRef",ref:_,first:"",path:"reenteredPassword",label:"确认密码"},{default:c(()=>[d(e(se),{value:e(r).reenteredPassword,"onUpdate:value":p[4]||(p[4]=M=>e(r).reenteredPassword=M),disabled:!e(r).password,type:"password",tabindex:"0",onKeyup:$e(v,["enter"])},null,8,["value","disabled","onKeyup"])]),_:1},512),t("div",Zn,[es,d(e(U),{disabled:e(r).oldPassword===null,type:"primary",onClick:v},{default:c(()=>[F(" 更新您的密码 ")]),_:1},8,["disabled"])])]),_:1},8,["model"])]),_:1}),d(e(Q),{class:"border rounded-sm p-3 bg-[#f8f9fa] h-48 dark:bg-[#18181c] dark:border-[#ffffff17]"},{default:c(()=>[ts,ns,ss,os,rs]),_:1})]),_:1},8,["cols"])]),_:1}))}});var Xe={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(o,s){(function(A,_){o.exports=_()})(wt,function(){return function(){var r={686:function(u,l,n){n.d(l,{default:function(){return ke}});var a=n(279),f=n.n(a),b=n(370),x=n.n(b),$=n(817),z=n.n($);function v(C){try{return document.execCommand(C)}catch{return!1}}var i=function(m){var h=z()(m);return v("cut"),h},p=i;function M(C){var m=document.documentElement.getAttribute("dir")==="rtl",h=document.createElement("textarea");h.style.fontSize="12pt",h.style.border="0",h.style.padding="0",h.style.margin="0",h.style.position="absolute",h.style[m?"right":"left"]="-9999px";var y=window.pageYOffset||document.documentElement.scrollTop;return h.style.top="".concat(y,"px"),h.setAttribute("readonly",""),h.value=C,h}var W=function(m,h){var y=M(m);h.container.appendChild(y);var w=z()(y);return v("copy"),y.remove(),w},V=function(m){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},y="";return typeof m=="string"?y=W(m,h):m instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(m==null?void 0:m.type)?y=W(m.value,h):(y=z()(m),v("copy")),y},B=V;function I(C){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I=function(h){return typeof h}:I=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},I(C)}var g=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=m.action,y=h===void 0?"copy":h,w=m.container,P=m.target,Y=m.text;if(y!=="copy"&&y!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(P!==void 0)if(P&&I(P)==="object"&&P.nodeType===1){if(y==="copy"&&P.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(y==="cut"&&(P.hasAttribute("readonly")||P.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(Y)return B(Y,{container:w});if(P)return y==="cut"?p(P):B(P,{container:w})},E=g;function S(C){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(h){return typeof h}:S=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},S(C)}function k(C,m){if(!(C instanceof m))throw new TypeError("Cannot call a class as a function")}function j(C,m){for(var h=0;h<m.length;h++){var y=m[h];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(C,y.key,y)}}function H(C,m,h){return m&&j(C.prototype,m),h&&j(C,h),C}function X(C,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(m&&m.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),m&&K(C,m)}function K(C,m){return K=Object.setPrototypeOf||function(y,w){return y.__proto__=w,y},K(C,m)}function ye(C){var m=we();return function(){var y=re(C),w;if(m){var P=re(this).constructor;w=Reflect.construct(y,arguments,P)}else w=y.apply(this,arguments);return _e(this,w)}}function _e(C,m){return m&&(S(m)==="object"||typeof m=="function")?m:xe(C)}function xe(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function we(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function re(C){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},re(C)}function le(C,m){var h="data-clipboard-".concat(C);if(m.hasAttribute(h))return m.getAttribute(h)}var Ce=function(C){X(h,C);var m=ye(h);function h(y,w){var P;return k(this,h),P=m.call(this),P.resolveOptions(w),P.listenClick(y),P}return H(h,[{key:"resolveOptions",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof w.action=="function"?w.action:this.defaultAction,this.target=typeof w.target=="function"?w.target:this.defaultTarget,this.text=typeof w.text=="function"?w.text:this.defaultText,this.container=S(w.container)==="object"?w.container:document.body}},{key:"listenClick",value:function(w){var P=this;this.listener=x()(w,"click",function(Y){return P.onClick(Y)})}},{key:"onClick",value:function(w){var P=w.delegateTarget||w.currentTarget,Y=this.action(P)||"copy",ae=E({action:Y,container:this.container,target:this.target(P),text:this.text(P)});this.emit(ae?"success":"error",{action:Y,text:ae,trigger:P,clearSelection:function(){P&&P.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(w){return le("action",w)}},{key:"defaultTarget",value:function(w){var P=le("target",w);if(P)return document.querySelector(P)}},{key:"defaultText",value:function(w){return le("text",w)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(w){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return B(w,P)}},{key:"cut",value:function(w){return p(w)}},{key:"isSupported",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],P=typeof w=="string"?[w]:w,Y=!!document.queryCommandSupported;return P.forEach(function(ae){Y=Y&&!!document.queryCommandSupported(ae)}),Y}}]),h}(f()),ke=Ce},828:function(u){var l=9;if(typeof Element<"u"&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function a(f,b){for(;f&&f.nodeType!==l;){if(typeof f.matches=="function"&&f.matches(b))return f;f=f.parentNode}}u.exports=a},438:function(u,l,n){var a=n(828);function f($,z,v,i,p){var M=x.apply(this,arguments);return $.addEventListener(v,M,p),{destroy:function(){$.removeEventListener(v,M,p)}}}function b($,z,v,i,p){return typeof $.addEventListener=="function"?f.apply(null,arguments):typeof v=="function"?f.bind(null,document).apply(null,arguments):(typeof $=="string"&&($=document.querySelectorAll($)),Array.prototype.map.call($,function(M){return f(M,z,v,i,p)}))}function x($,z,v,i){return function(p){p.delegateTarget=a(p.target,z),p.delegateTarget&&i.call($,p)}}u.exports=b},879:function(u,l){l.node=function(n){return n!==void 0&&n instanceof HTMLElement&&n.nodeType===1},l.nodeList=function(n){var a=Object.prototype.toString.call(n);return n!==void 0&&(a==="[object NodeList]"||a==="[object HTMLCollection]")&&"length"in n&&(n.length===0||l.node(n[0]))},l.string=function(n){return typeof n=="string"||n instanceof String},l.fn=function(n){var a=Object.prototype.toString.call(n);return a==="[object Function]"}},370:function(u,l,n){var a=n(879),f=n(438);function b(v,i,p){if(!v&&!i&&!p)throw new Error("Missing required arguments");if(!a.string(i))throw new TypeError("Second argument must be a String");if(!a.fn(p))throw new TypeError("Third argument must be a Function");if(a.node(v))return x(v,i,p);if(a.nodeList(v))return $(v,i,p);if(a.string(v))return z(v,i,p);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function x(v,i,p){return v.addEventListener(i,p),{destroy:function(){v.removeEventListener(i,p)}}}function $(v,i,p){return Array.prototype.forEach.call(v,function(M){M.addEventListener(i,p)}),{destroy:function(){Array.prototype.forEach.call(v,function(M){M.removeEventListener(i,p)})}}}function z(v,i,p){return f(document.body,v,i,p)}u.exports=b},817:function(u){function l(n){var a;if(n.nodeName==="SELECT")n.focus(),a=n.value;else if(n.nodeName==="INPUT"||n.nodeName==="TEXTAREA"){var f=n.hasAttribute("readonly");f||n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,n.value.length),f||n.removeAttribute("readonly"),a=n.value}else{n.hasAttribute("contenteditable")&&n.focus();var b=window.getSelection(),x=document.createRange();x.selectNodeContents(n),b.removeAllRanges(),b.addRange(x),a=b.toString()}return a}u.exports=l},279:function(u){function l(){}l.prototype={on:function(n,a,f){var b=this.e||(this.e={});return(b[n]||(b[n]=[])).push({fn:a,ctx:f}),this},once:function(n,a,f){var b=this;function x(){b.off(n,x),a.apply(f,arguments)}return x._=a,this.on(n,x,f)},emit:function(n){var a=[].slice.call(arguments,1),f=((this.e||(this.e={}))[n]||[]).slice(),b=0,x=f.length;for(b;b<x;b++)f[b].fn.apply(f[b].ctx,a);return this},off:function(n,a){var f=this.e||(this.e={}),b=f[n],x=[];if(b&&a)for(var $=0,z=b.length;$<z;$++)b[$].fn!==a&&b[$].fn._!==a&&x.push(b[$]);return x.length?f[n]=x:delete f[n],this}},u.exports=l,u.exports.TinyEmitter=l}},A={};function _(u){if(A[u])return A[u].exports;var l=A[u]={exports:{}};return r[u](l,l.exports,_),l.exports}return function(){_.n=function(u){var l=u&&u.__esModule?function(){return u.default}:function(){return u};return _.d(l,{a:l}),l}}(),function(){_.d=function(u,l){for(var n in l)_.o(l,n)&&!_.o(u,n)&&Object.defineProperty(u,n,{enumerable:!0,get:l[n]})}}(),function(){_.o=function(u,l){return Object.prototype.hasOwnProperty.call(u,l)}}(),_(686)}().default})})(Xe);var is=Xe.exports;const ls=Ct(is),cs=o=>{const s=(o==null?void 0:o.appendToBody)===void 0?!0:o.appendToBody;return{toClipboard(r,A){return new Promise((_,u)=>{const l=document.createElement("button"),n=new ls(l,{text:()=>r,action:()=>"copy",container:A!==void 0?A:document.body});n.on("success",a=>{n.destroy(),_(a)}),n.on("error",a=>{n.destroy(),u(a)}),s&&document.body.appendChild(l),l.click(),s&&document.body.removeChild(l)})}}},ds=t("div",null,"邀用户、得福利!",-1),us=t("div",{class:"text-[#95aac9] mb-2 text-base"}," 我的邀请码 ",-1),fs={class:"text-2xl text-[#555] dark:text-[#fff] whitespace-nowrap"},ps=t("b",{class:"text-[000]"},"Tips",-1),hs={class:"flex flex-col text-[#707384]"},ms=t("div",null,"邀请记录",-1),vs=te({__name:"invite",setup(o){const{toClipboard:s}=cs(),r=ue(),A=D(()=>r.userInfo.inviteCode),_=D(()=>r.globalConfig),{isSmallXl:u,isMobile:l}=ve(),n=ge(),a=O(!1),f=Ue({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,20,50],onChange:i=>{f.page=i,z()},onUpdatePageSize:i=>{f.pageSize=i,f.page=1,z()}}),b=D(()=>[{title:"头像",key:"avatar",render(i){return L(Pe,{src:i.avatar,size:"small",round:!0})}},{title:"用户名称",key:"username"},{title:"用户邮箱",key:"email"},{title:"受邀人状态",key:"status",render(i){return L(U,{type:i.status===1?"primary":"error",size:"small",round:!0,quaternary:!0},{default:()=>i.status===1?"已认证":"未激活"})}},{title:"邀请时间",key:"createdAt",render(i){return L("div",{style:{fontSize:"12px",color:"#999"}},()=>i.createdAt)}},{title:"获得奖励状态",key:"status",render(i){return L(U,{type:i.status===1?"success":"warning",size:"small",round:!0,quaternary:!0},{default:()=>i.status===1?"已领取邀请奖励":"等待受邀人确认"})}}]),x=O([]);async function $(){const i=await St();if(!i.data)return n.error(i.message);n.success("生成邀请链接成功"),r.getUserInfo()}async function z(){try{a.value=!0;const i=await kt({page:f.page,size:f.pageSize});x.value=i.data.rows,a.value=!1}catch{a.value=!1}}async function v(){if(!A.value)return n.error("请先生成您的专属邀请链接！");const i=`${window.location.href}?inVitecode=${A.value}`;try{await s(i),n.success("复制专属邀请链接成功！")}catch{n.error("当前设置不支持自动复制、手动复制吧！")}}return be(()=>{z()}),(i,p)=>(N(),J(He,null,[d(e(oe),null,{header:c(()=>[ds]),default:c(()=>[d(e(de),{"x-gap":24,"y-gap":24,cols:e(u)?1:3,class:"mt-3"},{default:c(()=>{var M;return[d(e(Q),{class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:2},{default:c(()=>[us,t("div",{class:Ee(["flex justify-between",[e(u)?"flex-col mt-3":""]])},[t("b",fs,T(e(A)||"********"),1),d(e(Ae),{class:Ee([e(u)?" mt-3":""])},{default:c(()=>[d(e(U),{type:"success",onClick:$},{default:c(()=>[F(" 生成专属邀请码 ")]),_:1}),d(e(U),{type:"primary",onClick:v},{default:c(()=>[F(" 复制专属邀请链接 ")]),_:1})]),_:1},8,["class"])],2)]),_:1}),Number((M=e(_))==null?void 0:M.inviteSendStatus)===1?(N(),G(e(Q),{key:0,class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:1},{default:c(()=>[ps,t("div",hs,[t("span",null,"邀请一位用户赠送"+T(e(_).inviteGiveSendModel3Count)+"积分基础模型额度+"+T(e(_).inviteGiveSendModel4Count)+"积分高级模型额度+"+T(e(_).inviteGiveSendDrawMjCount)+"MJ绘画积分额度",1),t("span",null,"收到邀请用户获得"+T(e(_).invitedGuestSendModel3Count)+"积分基础模型额度+"+T(e(_).invitedGuestSendModel4Count)+"积分高级模型额度+"+T(e(_).invitedGuestSendDrawMjCount)+"MJ绘画积分额度",1)])]),_:1})):Z("",!0)]}),_:1},8,["cols"])]),_:1}),d(e(oe),{class:"mt-5"},{header:c(()=>[ms]),default:c(()=>[d(e(Ve),{loading:a.value,remote:!0,"pagination-behavior-on-filter":"first",class:"min-h-[350px]",columns:e(b),data:x.value,pagination:f,"scroll-x":500},null,8,["loading","columns","data","pagination"])]),_:1})],64))}}),gs={class:"flex flex-col justify-center items-center"},bs={class:"text-2xl text-primary self-start mb-14 flex justify-between w-full"},ys=t("span",null,"Profile",-1),_s={class:"mt-3 text-lg text-[#555]"},xs={class:"text-[#95aac9] mt-2"},ws={class:"text-[#555] mt-3 px-4"},Cs={class:"self-start mt-16"},ks=t("div",{class:"text-xl text-primary"}," 我在本站的使用记录 ",-1),Ss={class:"flex items-center space-x-4 pl-3 mt-3"},$s=t("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"基础模型积分:",-1),zs={class:"w-[230px]"},Es={class:"flex items-center space-x-4 pl-3 mt-3"},Ts=t("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"高级模型积分:",-1),As={class:"w-[230px]"},Ps={class:"flex items-center space-x-4 pl-3 mt-3"},Ms=t("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"基础模型使用:",-1),Bs={class:"w-[230px]"},Rs={class:"flex items-center space-x-4 pl-3 mt-3"},Is=t("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"高级模型使用:",-1),Os={class:"w-[230px]"},Ns={class:"flex items-center space-x-4 pl-3 mt-3"},Ls=t("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"绘画使用积分:",-1),Ds={class:"w-[230px]"},js={key:0,class:"flex items-center space-x-4 pl-3 mt-3"},Fs=t("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"绑定微信:",-1),Us={class:"w-[230px]"},Hs={key:1},Ws={key:1,class:"flex items-center space-x-4 pl-3 mt-3"},Gs=t("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"绑定微信:",-1),Vs={class:"w-[230px]"},Xs={key:0,class:"flex text-[red] pt-8 text-base font-bold"},Ys=t("span",null,"会员过期时间：",-1),qs={key:1},Ks={class:"flex items-center space-x-4"},Js={class:"flex-shrink-0 w-[60px]"},Qs={class:"flex-1"},Zs={class:"flex items-center space-x-4 mt-5"},eo={class:"flex-shrink-0 w-[60px]"},to={class:"flex-1"},no={class:"flex space-x-4 mt-5"},so={class:"flex-shrink-0 w-[60px]"},oo={class:"flex-1"},fo=te({__name:"index",setup(o){const s=Ge(),r=ue(),A=We(),_=O(0),u=D(()=>r.userBalance),l=D(()=>{var E;return(E=r.globalConfig)==null?void 0:E.isUseWxLogin}),n=O(!0),a=D(()=>r.isLogin),f=ge(),b=D(()=>r.userInfo.email||""),x=D(()=>r.userInfo.isBindWx),$=O(r.userInfo.avatar??he),z=O(r.userInfo.username??"未登录"),v=O(r.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。"),i=O(!1),{isSmallLg:p,isMobile:M}=ve();async function W(){const E=await $t();_.value=E.data||0}async function V(){(await At()).success&&f.success("已同步数据完成"),W()}async function B(E){try{i.value=!0;const S=await Pt(E);if(i.value=!1,!S.success)return f.error(S.message);f.success(Mt("common.updateUserSuccess")),r.getUserInfo()}catch{i.value=!1}}function I(){a.value||r.setLoginDialog(!0)}be(()=>{I(),W()});function g(){r.logOut(),A.push("/")}return setTimeout(()=>{n.value=!1},500),(E,S)=>(N(),G(e(Tt),{"has-sider":"",class:"flex h-full"},{default:c(()=>[e(p)?Z("",!0):(N(),G(e(Rt),{key:0,"content-style":"padding: 24px;",bordered:"",width:"380"},{default:c(()=>[t("div",gs,[t("div",bs,[ys,d(e(U),{tertiary:"",type:"error",onClick:g},{default:c(()=>[F(" 退出登录 ")]),_:1})]),d(e(Pe),{size:148,src:$.value,"fallback-src":e(he)},null,8,["src","fallback-src"]),t("b",_s,T(z.value),1),t("span",xs,T(e(b)),1),t("div",ws,T(v.value),1),t("div",Cs,[ks,t("div",Ss,[$s,t("div",zs,T(e(u).useModel3Count||"0")+" 积分 ",1)]),t("div",Es,[Ts,t("div",As,T(e(u).useModel4Count||"0")+" 积分 ",1)]),t("div",Ps,[Ms,t("div",Bs,T(e(u).useModel3Token||"0")+" Token ",1)]),t("div",Rs,[Is,t("div",Os,T(e(u).useModel4Token||"0")+" Token ",1)]),t("div",Ns,[Ls,t("div",Ds,T(e(u).useDrawMjToken||"0")+" 积分 ",1)]),e(l)?(N(),J("div",js,[Fs,t("div",Us,[e(x)?(N(),J("span",Hs,"已绑定微信")):(N(),G(e(U),{key:0,text:"",onClick:S[0]||(S[0]=k=>e(s).updateBindwxDialog(!0))},{default:c(()=>[F(" 点击绑定微信 ")]),_:1}))])])):Z("",!0),_.value>0?(N(),J("div",Ws,[Gs,t("div",Vs,[d(e(U),{text:"",onClick:V},{default:c(()=>[F(" 点击同步访客数据 ")]),_:1})])])):Z("",!0)])]),e(u).expirationTime?(N(),J("div",Xs,[Ys,t("span",null,T(e(u).expirationTime),1)])):Z("",!0)]),_:1})),t("div",{class:Ee(["flex flex-col",[e(M)?"w-full":"flex-1"]]),style:Et({padding:e(M)?"10px":"0 28px 0 28px"})},[d(e(Bt),{title:"个人中心",des:"编辑个人信息、查看更多详情",padding:(e(M),1)},null,8,["padding"]),d(e(zt),{type:"line",animated:"",class:"mt-5 flex-1"},{default:c(()=>[e(p)?(N(),G(e(ce),{key:0,name:"detail",tab:"我的详情"},{default:c(()=>[d(Jn)]),_:1})):Z("",!0),d(e(ce),{name:"account",tab:"我的钱包"},{default:c(()=>[d(zn)]),_:1}),d(e(ce),{name:"baseInfo",tab:"基础信息"},{default:c(()=>[d(e(oe),null,{header:c(()=>[n.value||!e(a)?(N(),G(e(fe),{key:0,size:"medium",width:"20%"})):(N(),J("div",qs,"用户基础设置"))]),default:c(()=>[n.value||!e(a)?(N(),G(e(Ae),{key:0,vertical:""},{default:c(()=>[d(e(fe),{height:"40px",size:"medium"}),d(e(fe),{height:"40px",size:"medium"}),d(e(fe),{height:"80px",size:"medium"})]),_:1})):(N(),G(e(de),{key:1,"x-gap":"12",cols:1},{default:c(()=>[d(e(Q),null,{default:c(()=>[t("div",Ks,[t("span",Js,T(E.$t("setting.avatarLink")),1),t("div",Qs,[d(e(se),{value:$.value,"onUpdate:value":S[1]||(S[1]=k=>$.value=k),placeholder:"请填写头像地址"},null,8,["value"])]),d(e(U),{size:"tiny",text:"",type:"primary",onClick:S[2]||(S[2]=k=>B({avatar:$.value}))},{default:c(()=>[F(T(E.$t("common.update")),1)]),_:1})]),t("div",Zs,[t("span",eo,T(E.$t("setting.name")),1),t("div",to,[d(e(se),{value:z.value,"onUpdate:value":S[3]||(S[3]=k=>z.value=k),placeholder:"请编辑您的用户名",maxlength:"12","show-count":"",clearable:""},null,8,["value"])]),d(e(U),{size:"tiny",text:"",type:"primary",onClick:S[4]||(S[4]=k=>B({username:z.value}))},{default:c(()=>[F(T(E.$t("common.update")),1)]),_:1})]),t("div",no,[t("span",so,T(E.$t("setting.sign")),1),t("div",oo,[d(e(se),{value:v.value,"onUpdate:value":S[5]||(S[5]=k=>v.value=k),placeholder:"请编辑您的签名",maxlength:"128","show-count":"",clearable:"",type:"textarea"},null,8,["value"])]),d(e(U),{size:"tiny",text:"",type:"primary",onClick:S[6]||(S[6]=k=>B({sign:v.value}))},{default:c(()=>[F(T(E.$t("common.update")),1)]),_:1})])]),_:1})]),_:1}))]),_:1})]),_:1}),d(e(ce),{name:"password",tab:"密码管理"},{default:c(()=>[d(as)]),_:1}),d(e(ce),{name:"invite",tab:"邀请得福利"},{default:c(()=>[d(vs)]),_:1})]),_:1})],6)]),_:1}))}});export{fo as default};
