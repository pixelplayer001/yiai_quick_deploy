'use strict';const _0x373402=_0x4dba;(function(_0x4ec745,_0x2e6d24){const _0x1e8ee1=_0x4dba,_0x305f32=_0x4ec745();while(!![]){try{const _0x245311=-parseInt(_0x1e8ee1(0x19e))/0x1*(parseInt(_0x1e8ee1(0x14d))/0x2)+-parseInt(_0x1e8ee1(0x16c))/0x3+-parseInt(_0x1e8ee1(0x1a6))/0x4+-parseInt(_0x1e8ee1(0x142))/0x5+-parseInt(_0x1e8ee1(0x18e))/0x6+parseInt(_0x1e8ee1(0x1a8))/0x7*(parseInt(_0x1e8ee1(0x152))/0x8)+parseInt(_0x1e8ee1(0x1a0))/0x9;if(_0x245311===_0x2e6d24)break;else _0x305f32['push'](_0x305f32['shift']());}catch(_0x504a12){_0x305f32['push'](_0x305f32['shift']());}}}(_0x9e9b,0x6b127));function _0x4dba(_0x4f248c,_0x48ca81){const _0x9e9b35=_0x9e9b();return _0x4dba=function(_0x4dba3d,_0x8674f9){_0x4dba3d=_0x4dba3d-0x142;let _0x1cc284=_0x9e9b35[_0x4dba3d];return _0x1cc284;},_0x4dba(_0x4f248c,_0x48ca81);}const _0x26489f=_0xb4cc;(function(_0x967503,_0x12cbcb){const _0x18fc28=_0x4dba,_0x46460b=_0xb4cc,_0x511806=_0x967503();while(!![]){try{const _0x25ca4a=parseInt(_0x46460b(0xf4))/0x1*(parseInt(_0x46460b(0x10b))/0x2)+parseInt(_0x46460b(0xf7))/0x3+-parseInt(_0x46460b(0x129))/0x4+parseInt(_0x46460b(0x10a))/0x5*(-parseInt(_0x46460b(0x101))/0x6)+-parseInt(_0x46460b(0xdd))/0x7*(parseInt(_0x46460b(0x119))/0x8)+parseInt(_0x46460b(0x109))/0x9*(-parseInt(_0x46460b(0xfd))/0xa)+parseInt(_0x46460b(0xd5))/0xb;if(_0x25ca4a===_0x12cbcb)break;else _0x511806[_0x18fc28(0x15f)](_0x511806[_0x18fc28(0x14b)]());}catch(_0x33bb78){_0x511806[_0x18fc28(0x15f)](_0x511806[_0x18fc28(0x14b)]());}}}(_0x4f6b,0x6386f));var __decorate=this&&this[_0x26489f(0x135)]||function(_0x8bbed0,_0x114766,_0x386bde,_0x20a89a){const _0x5a46b1=_0x4dba,_0x3d8a20=_0x26489f;var _0x490810=arguments[_0x3d8a20(0x12f)],_0x387d19=_0x490810<0x3?_0x114766:_0x20a89a===null?_0x20a89a=Object[_0x5a46b1(0x190)](_0x114766,_0x386bde):_0x20a89a,_0x1c9f79;if(typeof Reflect===_0x3d8a20(0xe3)&&typeof Reflect[_0x3d8a20(0xe7)]===_0x3d8a20(0xd0))_0x387d19=Reflect[_0x5a46b1(0x153)](_0x8bbed0,_0x114766,_0x386bde,_0x20a89a);else{for(var _0x1183a5=_0x8bbed0[_0x3d8a20(0x12f)]-0x1;_0x1183a5>=0x0;_0x1183a5--)if(_0x1c9f79=_0x8bbed0[_0x1183a5])_0x387d19=(_0x490810<0x3?_0x1c9f79(_0x387d19):_0x490810>0x3?_0x1c9f79(_0x114766,_0x386bde,_0x387d19):_0x1c9f79(_0x114766,_0x386bde))||_0x387d19;}return _0x490810>0x3&&_0x387d19&&Object[_0x3d8a20(0x124)](_0x114766,_0x386bde,_0x387d19),_0x387d19;},__metadata=this&&this[_0x26489f(0xd9)]||function(_0x3d9267,_0x4d813b){const _0x2ef37e=_0x4dba,_0x463f70=_0x26489f;if(typeof Reflect===_0x463f70(0xe3)&&typeof Reflect[_0x463f70(0xff)]===_0x2ef37e(0x14f))return Reflect[_0x2ef37e(0x15e)](_0x3d9267,_0x4d813b);},__param=this&&this[_0x26489f(0xf5)]||function(_0x2b4aeb,_0x14c92d){return function(_0x5203bf,_0x5bb767){_0x14c92d(_0x5203bf,_0x5bb767,_0x2b4aeb);};};function _0xb4cc(_0xe543a7,_0x331b62){const _0x429550=_0x4f6b();return _0xb4cc=function(_0x476b37,_0x3e6613){_0x476b37=_0x476b37-0xcf;let _0x41cd1f=_0x429550[_0x476b37];return _0x41cd1f;},_0xb4cc(_0xe543a7,_0x331b62);}function _0x4f6b(){const _0x513ae0=_0x4dba,_0x519ea5=[_0x513ae0(0x180),_0x513ae0(0x1a1),_0x513ae0(0x17d),_0x513ae0(0x143),'officialSubscribeText','UseGuards',_0x513ae0(0x15a),_0x513ae0(0x193),_0x513ae0(0x14c),_0x513ae0(0x14e),'includes',_0x513ae0(0x196),_0x513ae0(0x144),'decorate',_0x513ae0(0x195),_0x513ae0(0x172),_0x513ae0(0x157),'aotoPlay',_0x513ae0(0x173),_0x513ae0(0x16f),_0x513ae0(0x159),_0x513ae0(0x18b),_0x513ae0(0x19c),_0x513ae0(0x197),_0x513ae0(0x160),'loginByCode',_0x513ae0(0x1a5),_0x513ae0(0x16d),_0x513ae0(0x17a),_0x513ae0(0x164),_0x513ae0(0x176),'subscribe',_0x513ae0(0x148),_0x513ae0(0x167),_0x513ae0(0x175),_0x513ae0(0x186),_0x513ae0(0x174),_0x513ae0(0x15e),_0x513ae0(0x171),_0x513ae0(0x187),_0x513ae0(0x17f),'official',_0x513ae0(0x191),_0x513ae0(0x170),_0x513ae0(0x16b),_0x513ae0(0x15c),_0x513ae0(0x17e),_0x513ae0(0x177),_0x513ae0(0x188),_0x513ae0(0x17c),_0x513ae0(0x16a),_0x513ae0(0x161),_0x513ae0(0x189),_0x513ae0(0x168),_0x513ae0(0x198),_0x513ae0(0x149),'OfficialController','../../common/auth/jwtAuth.guard',_0x513ae0(0x150),_0x513ae0(0x1a9),_0x513ae0(0x163),_0x513ae0(0x147),_0x513ae0(0x1a4),'627032cJbzvO',_0x513ae0(0x165),_0x513ae0(0x169),_0x513ae0(0x146),_0x513ae0(0x15b),_0x513ae0(0x192),_0x513ae0(0x19a),_0x513ae0(0x145),_0x513ae0(0x19b),_0x513ae0(0x17b),'Get',_0x513ae0(0x16e),'get\x20通知>>>',_0x513ae0(0x156),_0x513ae0(0x184),_0x513ae0(0x182),_0x513ae0(0x199),'scanBindWx',_0x513ae0(0x181),'getQRSceneStr',_0x513ae0(0x1a7),_0x513ae0(0x158),_0x513ae0(0x1a3),'signature','获取登录二维码sceneStr',_0x513ae0(0x19d),_0x513ae0(0x155),_0x513ae0(0x154),_0x513ae0(0x18a),'status','function',_0x513ae0(0x1a2),'bindWxBySceneStr','https://mp.weixin.qq.com/cgi-bin/showqrcode?ticket=',_0x513ae0(0x183),_0x513ae0(0x162),_0x513ae0(0x18d),_0x513ae0(0x178),'prototype',_0x513ae0(0x15d)];return _0x4f6b=function(){return _0x519ea5;},_0x4f6b();}Object[_0x26489f(0x124)](exports,_0x26489f(0x128),{'value':!![]}),exports['OfficialController']=void 0x0;const common_1=require(_0x26489f(0xe2)),swagger_1=require(_0x26489f(0xee)),jwtAuth_guard_1=require(_0x26489f(0x113)),official_service_1=require(_0x26489f(0xfe)),getQrCode_dto_1=require(_0x26489f(0xd4)),getQrSceneStr_dto_1=require(_0x26489f(0xed));function _0x9e9b(){const _0x22f241=['Post','officialBindAccountText','4504MqbnCM','eventkey','getJsapiTicket','notify','fromusername','echostr','__esModule','./dto/getQrCode.dto','xml:\x20','official','1608060dAWqyp','1621812GjpHFj','10tqpbTf','env','__decorate','ApiTags','genXmlMsg','CLICK','3093786ePOXhe','prototype','getOwnPropertyDescriptor','getRedirectUrl','扫码登录轮询查询','扫码绑定轮询查询','VIEW','Controller','success','Res','notifyPost','1788068QZzkDM','design:paramtypes','GetQrCodeDto','ISDEV','send','47076SJGNUu','status','16872885tituIK','qrscene_','getQRSceneStrByBind','length','TRUE','108BvhnDB','1683536tuKnlK','content','112357KawPxj','SCAN','1986605tKhVEr','14QqZxNp','getQRCode','获取绑定二维码的sceneStr','sceneStr','log','OfficialService','officialScanLoginText','scanBindWx','shift','@nestjs/common','8RbxrYG','object','function','Req','timestamp','176ChcWju','decorate','nonce','Body','loginBySceneStr','verify','officialService','@nestjs/swagger','ApiOperation','code','event','__metadata','metadata','push','公众号通知接口POST','unsubscribe','9645064lMmSbE','获取注册配置','2260842HytPYX','获取二维码','Get','GetQrSceneStrDto','获取登录跳转地址','design:type','split','sceneStr:\x20','801540RnnTGP','__param','defineProperty','./dto/getQrSceneStr.dto','Query','url','scan','genXmlMsgByConfig','./official.service','msgtype','JwtAuthGuard','18MABhmI','design:returntype','公众号静默登录'];_0x9e9b=function(){return _0x22f241;};return _0x9e9b();}let OfficialController=class OfficialController{constructor(_0x1cdb77){const _0x5a4862=_0x4dba;this[_0x5a4862(0x158)]=_0x1cdb77;}async[_0x26489f(0x102)](_0x3a8b88,_0x45ae6a,_0x22fafe){const _0x5f1365=_0x4dba,_0x3ee4fb=_0x26489f;console[_0x3ee4fb(0x117)](_0x3ee4fb(0x125),_0x45ae6a,_0x22fafe);const _0x5b6306=await this[_0x3ee4fb(0x12e)][_0x3ee4fb(0xea)](_0x45ae6a[_0x3ee4fb(0x130)],_0x45ae6a[_0x3ee4fb(0x134)],_0x45ae6a[_0x5f1365(0x151)]);return _0x5b6306?_0x45ae6a[_0x3ee4fb(0x12b)]:'';}async[_0x373402(0x198)](_0x4567bd,_0x1f1a18,_0x38a238,_0x18bad3){const _0x3e473f=_0x373402,_0x4b9b1e=_0x26489f,{xml:_0x2d2cfe}=_0x38a238;console[_0x4b9b1e(0x117)](_0x4b9b1e(0x127),_0x2d2cfe);if(_0x2d2cfe[_0x4b9b1e(0xfc)][0x0]==_0x3e473f(0x15c)){if(_0x2d2cfe[_0x4b9b1e(0x107)][0x0]==_0x3e473f(0x194)||_0x2d2cfe[_0x4b9b1e(0x107)][0x0]==_0x4b9b1e(0xd6))return _0x18bad3[_0x3e473f(0x19f)](0xc8)[_0x4b9b1e(0x132)]('');if(_0x2d2cfe[_0x4b9b1e(0x107)][0x0]==_0x4b9b1e(0x115)){console['log']('扫码');const _0x1b5798=_0x2d2cfe[_0x4b9b1e(0xdc)][0x0];if(_0x1b5798[_0x4b9b1e(0xe4)]('/')){this[_0x4b9b1e(0x12e)][_0x4b9b1e(0x12a)](_0x2d2cfe[_0x4b9b1e(0xda)][0x0],_0x1b5798);const _0x1da5ab=await this[_0x4b9b1e(0x12e)][_0x4b9b1e(0xec)](_0x2d2cfe,_0x3e473f(0x17b));return _0x18bad3[_0x4b9b1e(0xcf)](0xc8)[_0x4b9b1e(0x132)](_0x1da5ab);}this[_0x4b9b1e(0x12e)][_0x4b9b1e(0xe9)](_0x2d2cfe[_0x3e473f(0x180)][0x0],_0x1b5798);const _0x5e2df0=await this[_0x4b9b1e(0x12e)][_0x4b9b1e(0xec)](_0x2d2cfe,_0x4b9b1e(0x111));return _0x18bad3[_0x4b9b1e(0xcf)](0xc8)[_0x4b9b1e(0x132)](_0x5e2df0);}if(_0x2d2cfe[_0x4b9b1e(0x107)][0x0]==_0x4b9b1e(0xf9)){console[_0x4b9b1e(0x117)]('订阅',_0x2d2cfe[_0x4b9b1e(0xdc)][0x0]);const _0x411af3=_0x2d2cfe[_0x4b9b1e(0xdc)][0x0][_0x4b9b1e(0x10c)](_0x4b9b1e(0xdb))[0x1];console[_0x3e473f(0x147)](_0x4b9b1e(0x106),_0x411af3);if(!_0x411af3){const _0x4822d7=await this[_0x4b9b1e(0x12e)][_0x4b9b1e(0xec)](_0x2d2cfe,_0x4b9b1e(0xde));return _0x18bad3[_0x4b9b1e(0xcf)](0xc8)[_0x4b9b1e(0x132)](_0x4822d7);}if(_0x411af3[_0x4b9b1e(0xe4)]('/')){this[_0x4b9b1e(0x12e)][_0x3e473f(0x14a)](_0x2d2cfe[_0x4b9b1e(0xda)][0x0],_0x411af3);const _0x148343=await this[_0x4b9b1e(0x12e)][_0x4b9b1e(0xec)](_0x2d2cfe,_0x4b9b1e(0x122));return _0x18bad3[_0x4b9b1e(0xcf)](0xc8)[_0x3e473f(0x19d)](_0x148343);}this[_0x4b9b1e(0x12e)][_0x4b9b1e(0xe9)](_0x2d2cfe[_0x4b9b1e(0xda)][0x0],_0x411af3);const _0x76e5e6=await this[_0x4b9b1e(0x12e)][_0x4b9b1e(0xec)](_0x2d2cfe,_0x4b9b1e(0xde));return _0x18bad3[_0x4b9b1e(0xcf)](0xc8)[_0x4b9b1e(0x132)](_0x76e5e6);}if(_0x2d2cfe[_0x3e473f(0x15c)][0x0]==_0x4b9b1e(0x10d))return _0x18bad3['status'](0xc8)[_0x4b9b1e(0x132)]('');}if(_0x2d2cfe[_0x4b9b1e(0xfc)][0x0]=='text'){const _0x32b0a4=await this[_0x4b9b1e(0x12e)][_0x4b9b1e(0xeb)](_0x2d2cfe[_0x4b9b1e(0x12d)][0x0]),_0x6c5d27=await this['officialService'][_0x3e473f(0x18c)](_0x2d2cfe,_0x32b0a4);return _0x18bad3[_0x3e473f(0x19f)](0xc8)[_0x4b9b1e(0x132)](_0x6c5d27);}return _0x4b9b1e(0xe5);}async[_0x26489f(0x12c)](_0x364772){const _0x69bd10=_0x373402,_0x49c558=_0x26489f;return this[_0x69bd10(0x158)][_0x49c558(0x12c)](_0x364772);}async[_0x26489f(0xd1)](_0x5f1bc4){const _0x35ed44=_0x373402,_0x3e5a6a=_0x26489f;return this[_0x3e5a6a(0x12e)][_0x35ed44(0x1a2)](_0x5f1bc4);}async[_0x26489f(0xe6)](_0x46d586){const _0x2bbc7d=_0x26489f;if(process[_0x2bbc7d(0x10e)][_0x2bbc7d(0xf0)]===_0x2bbc7d(0x118))return'';const _0x4b36f5=await this[_0x2bbc7d(0x12e)]['getQRCodeTicket'](_0x46d586[_0x2bbc7d(0x11c)]);return _0x2bbc7d(0xd3)+encodeURIComponent(_0x4b36f5);}async[_0x26489f(0x126)](_0x2a7a28,_0x510983){const _0x2bb4ac=_0x26489f;return this[_0x2bb4ac(0x12e)]['loginBySceneStr'](_0x2a7a28,_0x510983[_0x2bb4ac(0x11c)]);}async[_0x26489f(0xd2)](_0xa587c7,_0x145911){const _0x324340=_0x373402,_0x37b470=_0x26489f;return this[_0x324340(0x158)][_0x37b470(0xd2)](_0xa587c7,_0x145911[_0x37b470(0x11c)]);}async[_0x26489f(0x104)](_0x558c3e){const _0x368b6f=_0x26489f;return this[_0x368b6f(0x12e)][_0x368b6f(0x104)](_0x558c3e[_0x368b6f(0x100)]);}async[_0x26489f(0x108)](_0x37bd14){const _0x634da2=_0x26489f;return this[_0x634da2(0x12e)][_0x634da2(0x108)](_0x37bd14[_0x634da2(0x100)]);}async['loginByCode'](_0x990f16,_0x3767ed){const _0x394958=_0x26489f;return this[_0x394958(0x12e)][_0x394958(0xf3)](_0x990f16,_0x3767ed[_0x394958(0x11d)]);}};__decorate([(0x0,common_1[_0x373402(0x166)])(_0x26489f(0x102)),(0x0,swagger_1[_0x373402(0x15a)])({'summary':'公众号通知接口GET'}),__param(0x0,(0x0,common_1[_0x26489f(0x114)])()),__param(0x1,(0x0,common_1[_0x26489f(0x105)])()),__param(0x2,(0x0,common_1[_0x26489f(0x133)])()),__metadata(_0x373402(0x169),Function),__metadata(_0x26489f(0x11f),[Object,Object,Object]),__metadata(_0x26489f(0xd7),Promise)],OfficialController['prototype'],_0x26489f(0x102),null),__decorate([(0x0,common_1[_0x373402(0x17a)])(_0x26489f(0x102)),(0x0,swagger_1[_0x373402(0x15a)])({'summary':_0x26489f(0xf2)}),__param(0x0,(0x0,common_1[_0x373402(0x150)])()),__param(0x1,(0x0,common_1[_0x26489f(0x105)])()),__param(0x2,(0x0,common_1[_0x26489f(0x133)])()),__param(0x3,(0x0,common_1[_0x26489f(0xf1)])()),__metadata('design:type',Function),__metadata(_0x26489f(0x11f),[Object,Object,Object,Object]),__metadata(_0x26489f(0xd7),Promise)],OfficialController[_0x26489f(0xd8)],_0x26489f(0x110),null),__decorate([(0x0,common_1[_0x26489f(0xf6)])('getQRSceneStr'),(0x0,swagger_1[_0x26489f(0xe0)])({'summary':_0x26489f(0x131)}),__param(0x0,(0x0,common_1[_0x26489f(0x133)])()),__metadata(_0x373402(0x169),Function),__metadata(_0x26489f(0x11f),[getQrSceneStr_dto_1[_0x26489f(0xfb)]]),__metadata(_0x26489f(0xd7),Promise)],OfficialController[_0x26489f(0xd8)],_0x26489f(0x12c),null),__decorate([(0x0,common_1[_0x373402(0x17a)])(_0x26489f(0xd1)),(0x0,swagger_1[_0x26489f(0xe0)])({'summary':_0x26489f(0x120)}),(0x0,common_1[_0x26489f(0xdf)])(jwtAuth_guard_1[_0x26489f(0xf8)]),__param(0x0,(0x0,common_1[_0x26489f(0x114)])()),__metadata(_0x26489f(0x11b),Function),__metadata(_0x26489f(0x11f),[Object]),__metadata(_0x26489f(0xd7),Promise)],OfficialController[_0x373402(0x18f)],_0x26489f(0xd1),null),__decorate([(0x0,common_1[_0x26489f(0x123)])(_0x26489f(0xe6)),(0x0,swagger_1[_0x26489f(0xe0)])({'summary':_0x26489f(0x11a)}),__param(0x0,(0x0,common_1[_0x26489f(0x105)])()),__metadata('design:type',Function),__metadata(_0x373402(0x19a),[getQrCode_dto_1[_0x26489f(0x121)]]),__metadata(_0x26489f(0xd7),Promise)],OfficialController[_0x26489f(0xd8)],_0x26489f(0xe6),null),__decorate([(0x0,common_1[_0x26489f(0xf6)])(_0x373402(0x156)),(0x0,swagger_1['ApiOperation'])({'summary':_0x26489f(0x11e)}),__param(0x0,(0x0,common_1[_0x26489f(0x114)])()),__param(0x1,(0x0,common_1[_0x26489f(0x133)])()),__metadata(_0x26489f(0x11b),Function),__metadata('design:paramtypes',[Object,getQrCode_dto_1[_0x26489f(0x121)]]),__metadata(_0x26489f(0xd7),Promise)],OfficialController[_0x26489f(0xd8)],_0x26489f(0x126),null),__decorate([(0x0,common_1[_0x26489f(0xf6)])(_0x26489f(0xd2)),(0x0,swagger_1[_0x26489f(0xe0)])({'summary':_0x26489f(0xe1)}),(0x0,common_1[_0x26489f(0xdf)])(jwtAuth_guard_1[_0x26489f(0xf8)]),__param(0x0,(0x0,common_1[_0x26489f(0x114)])()),__param(0x1,(0x0,common_1[_0x26489f(0x133)])()),__metadata(_0x26489f(0x11b),Function),__metadata(_0x26489f(0x11f),[Object,getQrCode_dto_1[_0x26489f(0x121)]]),__metadata(_0x26489f(0xd7),Promise)],OfficialController[_0x26489f(0xd8)],_0x26489f(0xd2),null),__decorate([(0x0,common_1[_0x26489f(0xf6)])(_0x26489f(0x104)),(0x0,swagger_1[_0x26489f(0xe0)])({'summary':_0x26489f(0x10f)}),__param(0x0,(0x0,common_1[_0x26489f(0x133)])()),__metadata(_0x373402(0x169),Function),__metadata(_0x26489f(0x11f),[Object]),__metadata(_0x26489f(0xd7),Promise)],OfficialController[_0x26489f(0xd8)],_0x26489f(0x104),null),__decorate([(0x0,common_1[_0x26489f(0xf6)])(_0x373402(0x17e)),(0x0,swagger_1[_0x26489f(0xe0)])({'summary':_0x26489f(0x116)}),__param(0x0,(0x0,common_1[_0x373402(0x155)])()),__metadata(_0x26489f(0x11b),Function),__metadata(_0x26489f(0x11f),[Object]),__metadata(_0x26489f(0xd7),Promise)],OfficialController[_0x26489f(0xd8)],_0x26489f(0x108),null),__decorate([(0x0,common_1[_0x373402(0x17a)])(_0x26489f(0xf3)),(0x0,swagger_1[_0x26489f(0xe0)])({'summary':_0x373402(0x179)}),__param(0x0,(0x0,common_1[_0x26489f(0x114)])()),__param(0x1,(0x0,common_1[_0x26489f(0x133)])()),__metadata(_0x26489f(0x11b),Function),__metadata(_0x26489f(0x11f),[Object,Object]),__metadata(_0x26489f(0xd7),Promise)],OfficialController[_0x26489f(0xd8)],_0x26489f(0xf3),null),OfficialController=__decorate([(0x0,swagger_1[_0x26489f(0xef)])(_0x26489f(0x103)),(0x0,common_1[_0x26489f(0xe8)])(_0x373402(0x185)),__metadata(_0x26489f(0x11f),[official_service_1[_0x26489f(0xfa)]])],OfficialController),exports[_0x26489f(0x112)]=OfficialController;