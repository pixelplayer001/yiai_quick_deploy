'use strict';function _0x3b80(){const _0x278b61=['HttpException','./violationLog.entity','application/x-www-form-urlencoded','violation','105eTTBqg','DESC','object','54708hWujGv','find','6841043AKYlOU','userEntity','3268960dDjmas','violationLogEntity','queryBadWords','../user/user.entity','code','UserEntity','application/json','敏感词已存在,请检查您的提交信息','stringify','检测失败','__decorate','addBadWord','function','recordUserBadWords','1675008ferAPk','violationCount\x20+\x201','76BfQmHx','extractContent','11lBeuvM','default','BadWordsEntity','createQueryBuilder','badWordsEntity','typeOriginCn','HttpStatus','checkBadWords','defineProperty','__param','execute','nineaiCheckBadWords','axios','142030dvvvYn','BAD_REQUEST','20kAdYzi','checkBadWordsByConfig','的信息、我们已对您账号进行标记、请合规使用！','敏感词已经存在了、请勿重复添加','837104PaFrRb','includes','baiduCheckBadWords','violationCount','update','117ipLYzP','__esModule','data','删除敏感词成功','email','2051130RCIrTR','metadata','keyword','您提交的信息中包含','百度文本检测出现错误、请查看配置信息:\x20','6AqtaZE','21994YMFOgd','GlobalConfigService','ViolationLogEntity','25bCFnCV','badWords','user','map','username','../../common/utils','set','***','@nestjs/typeorm','msg','3918Qlkhxu','10PrkvBt','baidu','formarTips','BadwordsService','log','1936774ITlOgx','shift','nineai','push','where','百度云检测','length','getOwnPropertyDescriptor','62iNThTV','敏感词不存在,请检查您的提交信息','findOne','findAndCount','您提交的内容中包含','删除敏感词失败','affected','customSensitiveWords','id\x20=\x20:userId','801sbSuQp','ASC','avatar','match','26590563ZrIFyI','word_list','decorate','861CmgmUt','userId','save','https://aip.baidubce.com/rest/2.0/solution/v1/text_censor/v2/user_defined?access_token=','7195oKyZIi','NineAi检测','join','word','updateBadWords','558107aRNeur','./badwords.entity','delete','63tTAOwx','敏感词检测\x20|\x20','Injectable','globalConfigService','super','getSensitiveConfig','Like','design:paramtypes','status','您提交的信息中包含违规的内容、我们已对您的账户进行标记、请合规使用！','1030398SpucBa','自定义'];_0x3b80=function(){return _0x278b61;};return _0x3b80();}const _0x335d04=_0x44e8;(function(_0x2f8469,_0x167dd6){const _0x136f39=_0x44e8,_0x3cd945=_0x2f8469();while(!![]){try{const _0x585a19=parseInt(_0x136f39(0x1bf))/0x1+parseInt(_0x136f39(0x221))/0x2+-parseInt(_0x136f39(0x208))/0x3+parseInt(_0x136f39(0x1d9))/0x4+parseInt(_0x136f39(0x211))/0x5*(parseInt(_0x136f39(0x1cc))/0x6)+parseInt(_0x136f39(0x1c2))/0x7*(parseInt(_0x136f39(0x1fe))/0x8)+-parseInt(_0x136f39(0x236))/0x9*(parseInt(_0x136f39(0x21c))/0xa);if(_0x585a19===_0x167dd6)break;else _0x3cd945['push'](_0x3cd945['shift']());}catch(_0x11cbdc){_0x3cd945['push'](_0x3cd945['shift']());}}}(_0x3b80,0x7b844));const _0x53f9dd=_0x12d9;(function(_0x472713,_0x2bdf19){const _0x2da248=_0x44e8,_0x3f6a70=_0x12d9,_0x1baf2c=_0x472713();while(!![]){try{const _0x320bbb=parseInt(_0x3f6a70(0x160))/0x1+parseInt(_0x3f6a70(0x170))/0x2*(-parseInt(_0x3f6a70(0x168))/0x3)+-parseInt(_0x3f6a70(0x137))/0x4*(parseInt(_0x3f6a70(0x13e))/0x5)+-parseInt(_0x3f6a70(0x184))/0x6*(parseInt(_0x3f6a70(0x141))/0x7)+-parseInt(_0x3f6a70(0x159))/0x8+parseInt(_0x3f6a70(0x149))/0x9+-parseInt(_0x3f6a70(0x136))/0xa*(-parseInt(_0x3f6a70(0x153))/0xb);if(_0x320bbb===_0x2bdf19)break;else _0x1baf2c[_0x2da248(0x224)](_0x1baf2c[_0x2da248(0x222)]());}catch(_0x27583c){_0x1baf2c[_0x2da248(0x224)](_0x1baf2c[_0x2da248(0x222)]());}}}(_0x2f02,0x5707c));function _0x4a6d(_0x21bc80,_0x469aaf){const _0x90a037=_0x2de8();return _0x4a6d=function(_0x1b9a8b,_0x5278f5){_0x1b9a8b=_0x1b9a8b-0x1ad;let _0xb8c95e=_0x90a037[_0x1b9a8b];return _0xb8c95e;},_0x4a6d(_0x21bc80,_0x469aaf);}function _0x2f02(){const _0x56bba2=_0x44e8,_0x3a773b=['category',_0x56bba2(0x20e),_0x56bba2(0x238),_0x56bba2(0x200),'的内容、我们已对您的账户进行标记、请合规使用！','更新敏感词成功',_0x56bba2(0x232),_0x56bba2(0x1c0),_0x56bba2(0x1ee),_0x56bba2(0x1cb),_0x56bba2(0x1b8),'loadBadWords','forEach',_0x56bba2(0x233),'error:\x20',_0x56bba2(0x204),_0x56bba2(0x202),_0x56bba2(0x1ef),_0x56bba2(0x230),'Repository',_0x56bba2(0x1e2),_0x56bba2(0x21b),_0x56bba2(0x1e0),_0x56bba2(0x20d),_0x56bba2(0x1dc),_0x56bba2(0x20c),_0x56bba2(0x22b),'typeorm',_0x56bba2(0x1f5),_0x56bba2(0x20f),_0x56bba2(0x1bb),_0x56bba2(0x234),_0x56bba2(0x218),_0x56bba2(0x22e),_0x56bba2(0x1d8),_0x56bba2(0x215),'更新敏感词失败',_0x56bba2(0x214),_0x56bba2(0x207),_0x56bba2(0x20b),_0x56bba2(0x203),_0x56bba2(0x1dd),_0x56bba2(0x226),_0x56bba2(0x1f0),_0x56bba2(0x1de),_0x56bba2(0x216),_0x56bba2(0x1ed),_0x56bba2(0x1cf),_0x56bba2(0x1fd),_0x56bba2(0x1c4),_0x56bba2(0x1c3),_0x56bba2(0x1ba),'delBadWords',_0x56bba2(0x1f9),_0x56bba2(0x1ec),_0x56bba2(0x1e6),_0x56bba2(0x1ea),_0x56bba2(0x21a),'violationLogEntity',_0x56bba2(0x237),'userInfo','affected',_0x56bba2(0x223),_0x56bba2(0x1fa),_0x56bba2(0x1e9),_0x56bba2(0x1fc),_0x56bba2(0x1ce),_0x56bba2(0x227),_0x56bba2(0x1c5),'7356250tjxIKg',_0x56bba2(0x1b9),_0x56bba2(0x1f8),_0x56bba2(0x1f2),'post',_0x56bba2(0x239),_0x56bba2(0x222),_0x56bba2(0x21f),_0x56bba2(0x235),'251027ekgRaA',_0x56bba2(0x1fb),_0x56bba2(0x1bd),_0x56bba2(0x1c6),_0x56bba2(0x1e7),'@nestjs/common',_0x56bba2(0x21d),_0x56bba2(0x1f7),_0x56bba2(0x210),_0x56bba2(0x231),_0x56bba2(0x1df),_0x56bba2(0x1f3),_0x56bba2(0x1ca),'InjectRepository',_0x56bba2(0x1d7),_0x56bba2(0x1e1),_0x56bba2(0x1f6),_0x56bba2(0x219),_0x56bba2(0x1f4),_0x56bba2(0x21e),'683448sMgFCm',_0x56bba2(0x1e5),_0x56bba2(0x1d3),_0x56bba2(0x212),_0x56bba2(0x1e3),_0x56bba2(0x205),_0x56bba2(0x1d6),'16897ozNNlP','../globalConfig/globalConfig.service',_0x56bba2(0x1cd),_0x56bba2(0x1c9),'baiduTextAccessToken',_0x56bba2(0x224),_0x56bba2(0x206),'53320nabLwb',_0x56bba2(0x1d2),'hideString',_0x56bba2(0x1c1),'1636JHMlwD',_0x56bba2(0x1ff),_0x56bba2(0x201),_0x56bba2(0x1d1)];return _0x2f02=function(){return _0x3a773b;},_0x2f02();}const _0x29aa7f=_0x4a6d;(function(_0x33ec37,_0x2ac01e){const _0xec6af9=_0x44e8,_0x161dae=_0x12d9,_0x326f77=_0x4a6d,_0x312ca0=_0x33ec37();while(!![]){try{const _0xf2a529=-parseInt(_0x326f77(0x1f4))/0x1*(parseInt(_0x326f77(0x1f2))/0x2)+-parseInt(_0x326f77(0x1bc))/0x3*(parseInt(_0x326f77(0x202))/0x4)+parseInt(_0x326f77(0x20d))/0x5*(-parseInt(_0x326f77(0x209))/0x6)+parseInt(_0x326f77(0x21a))/0x7+parseInt(_0x326f77(0x208))/0x8*(parseInt(_0x326f77(0x1cb))/0x9)+-parseInt(_0x326f77(0x1b8))/0xa*(-parseInt(_0x326f77(0x1d6))/0xb)+-parseInt(_0x326f77(0x1eb))/0xc*(parseInt(_0x326f77(0x1ed))/0xd);if(_0xf2a529===_0x2ac01e)break;else _0x312ca0[_0x161dae(0x165)](_0x312ca0[_0xec6af9(0x222)]());}catch(_0x457639){_0x312ca0[_0x161dae(0x165)](_0x312ca0[_0x161dae(0x142)]());}}}(_0x2de8,0x63f09));var __decorate=this&&this[_0x53f9dd(0x15d)]||function(_0x3768a3,_0x798331,_0x238d60,_0x5f3c87){const _0x3ef2e4=_0x4a6d;var _0x5e2dd6=arguments[_0x3ef2e4(0x206)],_0x430405=_0x5e2dd6<0x3?_0x798331:_0x5f3c87===null?_0x5f3c87=Object[_0x3ef2e4(0x1e2)](_0x798331,_0x238d60):_0x5f3c87,_0x51d6db;if(typeof Reflect===_0x3ef2e4(0x1db)&&typeof Reflect[_0x3ef2e4(0x1df)]===_0x3ef2e4(0x1e7))_0x430405=Reflect[_0x3ef2e4(0x1df)](_0x3768a3,_0x798331,_0x238d60,_0x5f3c87);else{for(var _0x3df8ba=_0x3768a3[_0x3ef2e4(0x206)]-0x1;_0x3df8ba>=0x0;_0x3df8ba--)if(_0x51d6db=_0x3768a3[_0x3df8ba])_0x430405=(_0x5e2dd6<0x3?_0x51d6db(_0x430405):_0x5e2dd6>0x3?_0x51d6db(_0x798331,_0x238d60,_0x430405):_0x51d6db(_0x798331,_0x238d60))||_0x430405;}return _0x5e2dd6>0x3&&_0x430405&&Object[_0x3ef2e4(0x20a)](_0x798331,_0x238d60,_0x430405),_0x430405;},__metadata=this&&this[_0x29aa7f(0x20f)]||function(_0x2f84f2,_0xb24d39){const _0x5f41d6=_0x29aa7f;if(typeof Reflect===_0x5f41d6(0x1db)&&typeof Reflect[_0x5f41d6(0x20b)]==='function')return Reflect[_0x5f41d6(0x20b)](_0x2f84f2,_0xb24d39);},__param=this&&this[_0x29aa7f(0x1bb)]||function(_0x43e4a3,_0x47cd5d){return function(_0x57e7e3,_0x43d08a){_0x47cd5d(_0x57e7e3,_0x43d08a,_0x43e4a3);};};function _0x44e8(_0x7f87d0,_0x514e59){const _0x3b8070=_0x3b80();return _0x44e8=function(_0x44e8ed,_0x118d31){_0x44e8ed=_0x44e8ed-0x1b8;let _0x12c01b=_0x3b8070[_0x44e8ed];return _0x12c01b;},_0x44e8(_0x7f87d0,_0x514e59);}Object[_0x29aa7f(0x20a)](exports,_0x29aa7f(0x213),{'value':!![]}),exports[_0x29aa7f(0x1f8)]=void 0x0;function _0x12d9(_0x2f3264,_0x4d69c4){const _0x29acbd=_0x2f02();return _0x12d9=function(_0x4de6d7,_0x2a96e3){_0x4de6d7=_0x4de6d7-0x12d;let _0x20e13c=_0x29acbd[_0x4de6d7];return _0x20e13c;},_0x12d9(_0x2f3264,_0x4d69c4);}const globalConfig_service_1=require(_0x29aa7f(0x21f)),common_1=require(_0x29aa7f(0x1c3)),badwords_entity_1=require(_0x29aa7f(0x1b3)),typeorm_1=require(_0x29aa7f(0x201)),typeorm_2=require(_0x53f9dd(0x156)),axios_1=require(_0x53f9dd(0x14c)),violationLog_entity_1=require(_0x53f9dd(0x19e)),user_entity_1=require(_0x53f9dd(0x187)),utils_1=require(_0x29aa7f(0x221));let BadwordsService=class BadwordsService{constructor(_0x3a325e,_0x43d869,_0x32820b,_0x29d83e){const _0x5f4fa1=_0x53f9dd,_0xc6f2f9=_0x29aa7f;this[_0x5f4fa1(0x180)]=_0x3a325e,this[_0xc6f2f9(0x1ba)]=_0x43d869,this[_0xc6f2f9(0x1e6)]=_0x32820b,this[_0xc6f2f9(0x1b9)]=_0x29d83e,this[_0xc6f2f9(0x1cd)]=[];}async[_0x29aa7f(0x1e1)](){const _0x195a81=_0x29aa7f;this[_0x195a81(0x211)]();}async[_0x29aa7f(0x1d8)](_0x1c9d29,_0x5a8e12){const _0x44cfd1=_0x53f9dd,_0x1cbf12=_0x29aa7f,_0x303cf2=[];for(let _0x52aa32=0x0;_0x52aa32<this[_0x1cbf12(0x1cd)][_0x1cbf12(0x206)];_0x52aa32++){const _0x29764c=this[_0x1cbf12(0x1cd)][_0x52aa32];_0x1c9d29[_0x44cfd1(0x16c)](_0x29764c)&&_0x303cf2[_0x1cbf12(0x1ca)](_0x29764c);}if(_0x303cf2[_0x1cbf12(0x206)]){await this[_0x1cbf12(0x1b2)](_0x5a8e12,_0x1c9d29,_0x303cf2,[_0x1cbf12(0x1ad)],_0x1cbf12(0x218));const _0x48af0a=_0x1cbf12(0x1e9);throw new common_1[(_0x1cbf12(0x1de))](_0x48af0a,common_1[_0x1cbf12(0x222)][_0x1cbf12(0x204)]);}}async[_0x29aa7f(0x1c5)](_0x121007,_0x14f011){const _0x383d43=_0x29aa7f,_0x57157d=await this[_0x383d43(0x1b9)][_0x383d43(0x1b7)]();_0x57157d&&await this[_0x383d43(0x1fd)](_0x121007,_0x57157d,_0x14f011),await this[_0x383d43(0x1d8)](_0x121007,_0x14f011);}async[_0x29aa7f(0x1fd)](_0x16cece,_0x5befa8,_0x1bfefc){const _0x1936f8=_0x44e8,_0xef05b2=_0x53f9dd,_0x57f07a=_0x29aa7f,{useType:_0x3eb41d}=_0x5befa8;_0x3eb41d===_0xef05b2(0x14b)&&await this[_0x1936f8(0x200)](_0x16cece,_0x5befa8[_0xef05b2(0x164)],_0x1bfefc),_0x3eb41d===_0xef05b2(0x135)&&await this[_0x57f07a(0x1b0)](_0x16cece,_0x5befa8,_0x1bfefc);}[_0x53f9dd(0x12f)](_0x3dbc22){const _0x27d91f=_0x29aa7f,_0x2d95c1=/存在(.*?)不合规/,_0x44e60e=_0x3dbc22[_0x27d91f(0x1cf)](_0x2d95c1);return _0x44e60e?_0x44e60e[0x1]:'';}async[_0x29aa7f(0x1c7)](_0x181071,_0x5550e7,_0x4bfec8){const _0x530bae=_0x44e8,_0x3f2496=_0x53f9dd,_0x32a237=_0x29aa7f;if(!_0x5550e7)return;const _0x268f7c=_0x32a237(0x1af)+_0x5550e7+'}',_0x247ace={'Content-Type':_0x32a237(0x1c4),'Accept':_0x32a237(0x1ea)},_0x400e1e=await axios_1[_0x32a237(0x1f5)][_0x32a237(0x1d3)](_0x268f7c,{'text':_0x181071},{'headers':_0x247ace}),{conclusion:_0x33d6b9,error_code:_0xe2764b,error_msg:_0x1b3838,conclusionType:_0x5c69ca,data:_0x491ad2}=_0x400e1e[_0x32a237(0x207)];_0xe2764b&&console[_0x530bae(0x220)](_0x32a237(0x1e8),_0x1b3838);if(_0x5c69ca!==0x1){const _0x903d72=[...new Set(_0x491ad2[_0x32a237(0x216)](_0x412e6e=>this[_0x32a237(0x1be)](_0x412e6e[_0x3f2496(0x130)])))];await this[_0x32a237(0x1b2)](_0x4bfec8,_0x181071,[_0x3f2496(0x18f)],_0x903d72,_0x3f2496(0x199));const _0x5678f8=_0x3f2496(0x196)+_0x903d72[_0x32a237(0x1d1)](',')+_0x32a237(0x21c);throw new common_1[(_0x3f2496(0x139))](_0x5678f8,common_1[_0x32a237(0x222)][_0x32a237(0x204)]);}}async[_0x29aa7f(0x1b0)](_0x47a4e3,_0x3731ff,_0x5a5851){const _0x1f9940=_0x44e8,_0x372b6a=_0x53f9dd,_0x5003fd=_0x29aa7f;var _0x5d1e65;const {nineaiBuiltInSensitiveApiBase:_0x54d820,nineaiBuiltInSensitiveAuthKey:_0x536298}=_0x3731ff;if(!_0x54d820||!_0x536298)return;const _0x54bb5d=await axios_1[_0x5003fd(0x1f5)][_0x5003fd(0x1d3)](_0x54d820,{'content':_0x47a4e3},{'headers':{'Content-Type':_0x5003fd(0x1ea),'Authorization':_0x536298}});if(!_0x54bb5d[_0x372b6a(0x15e)])return;if(_0x54bb5d[_0x1f9940(0x205)][_0x5003fd(0x1e3)]!=='0'){const {msg:msg=_0x5003fd(0x1bf)}=_0x54bb5d[_0x5003fd(0x207)];throw new common_1[(_0x5003fd(0x1de))](_0x372b6a(0x1a1)+msg,common_1[_0x5003fd(0x222)][_0x5003fd(0x204)]);}if(_0x54bb5d[_0x5003fd(0x207)][_0x5003fd(0x1cc)]&&((_0x5d1e65=_0x54bb5d[_0x5003fd(0x207)][_0x5003fd(0x1cc)])===null||_0x5d1e65===void 0x0?void 0x0:_0x5d1e65[_0x5003fd(0x206)])){const _0x5b9790=[...new Set(_0x54bb5d[_0x5003fd(0x207)][_0x5003fd(0x1cc)][_0x372b6a(0x194)](_0x399aa8=>_0x399aa8[_0x5003fd(0x1ce)]))],_0x1bd512=[...new Set(_0x54bb5d[_0x1f9940(0x205)][_0x5003fd(0x1cc)][_0x1f9940(0x214)](_0x55cf74=>_0x55cf74[_0x372b6a(0x16f)]))];await this[_0x5003fd(0x1b2)](_0x5a5851,_0x47a4e3,_0x5b9790,_0x1bd512,_0x5003fd(0x1c1));const _0x2bac08=this[_0x5003fd(0x1dc)](_0x54bb5d[_0x372b6a(0x15e)][_0x5003fd(0x1cc)]);throw new common_1[(_0x5003fd(0x1de))](_0x2bac08,common_1[_0x5003fd(0x222)]['BAD_REQUEST']);}}[_0x29aa7f(0x1dc)](_0x5488b9){const _0x57c374=_0x53f9dd,_0x5546f1=_0x29aa7f,_0x2132c9=_0x5488b9[_0x5546f1(0x216)](_0x4a2298=>_0x4a2298[_0x5546f1(0x1c9)]),_0x43deca=[...new Set(_0x2132c9)];return _0x5546f1(0x1bd)+_0x43deca[_0x5546f1(0x1d1)](',')+_0x57c374(0x138);}async[_0x29aa7f(0x211)](){const _0x1875f8=_0x29aa7f,_0x203ae9=await this[_0x1875f8(0x1c8)][_0x1875f8(0x217)]({'where':{'status':0x1},'select':[_0x1875f8(0x1ef)]});this[_0x1875f8(0x1cd)]=_0x203ae9[_0x1875f8(0x216)](_0x2a8deb=>_0x2a8deb[_0x1875f8(0x1ef)]);}async[_0x29aa7f(0x1d4)](_0x5b5db2){const _0x1e47ab=_0x53f9dd,_0x526d5b=_0x29aa7f,{page:page=0x1,size:size=0x1f4,word:_0x330bb3,status:_0x2eb7ab}=_0x5b5db2,_0x366145={};[0x0,0x1,'0','1'][_0x526d5b(0x1dd)](_0x2eb7ab)&&(_0x366145[_0x526d5b(0x214)]=_0x2eb7ab),_0x330bb3&&(_0x366145[_0x1e47ab(0x147)]=(0x0,typeorm_1[_0x526d5b(0x1ff)])('%'+_0x330bb3+'%'));const [_0x54f2b0,_0x24e3b4]=await this['badWordsEntity'][_0x526d5b(0x1f1)]({'where':_0x366145,'skip':(page-0x1)*size,'take':size,'order':{'id':_0x526d5b(0x1b5)}});return{'rows':_0x54f2b0,'count':_0x24e3b4};}async[_0x29aa7f(0x1e0)](_0xf2512d){const _0x248b23=_0x53f9dd,_0x352883=_0x29aa7f,_0x583c40=await this[_0x352883(0x1c8)][_0x352883(0x1e5)]({'where':{'id':_0xf2512d['id']}});if(!_0x583c40)throw new common_1[(_0x248b23(0x139))](_0x352883(0x205),common_1[_0x352883(0x222)][_0x352883(0x204)]);const _0x269b96=await this[_0x248b23(0x180)][_0x352883(0x20e)]({'id':_0xf2512d['id']});if(_0x269b96[_0x248b23(0x134)]>0x0)return await this[_0x248b23(0x17a)](),_0x352883(0x21b);else throw new common_1[(_0x352883(0x1de))](_0x352883(0x1d9),common_1[_0x352883(0x222)][_0x352883(0x204)]);}async[_0x335d04(0x1be)](_0x215e27){const _0x4008dd=_0x335d04,_0x302a8c=_0x53f9dd,_0xecffc4=_0x29aa7f,{id:_0x1fddf7,word:_0x4ea746,status:_0x517fe3}=_0x215e27,_0x5acba2=await this[_0xecffc4(0x1c8)][_0xecffc4(0x1e5)]({'where':{'word':_0x4ea746}});if(_0x5acba2)throw new common_1[(_0xecffc4(0x1de))](_0xecffc4(0x1ae),common_1[_0xecffc4(0x222)][_0x302a8c(0x1a4)]);const _0x3d2bf1=await this[_0x302a8c(0x180)][_0xecffc4(0x1e4)]({'id':_0x1fddf7},{'word':_0x4ea746,'status':_0x517fe3});if(_0x3d2bf1[_0x4008dd(0x22f)]>0x0)return await this[_0xecffc4(0x211)](),_0x302a8c(0x174);else throw new common_1[(_0xecffc4(0x1de))](_0xecffc4(0x1fe),common_1[_0xecffc4(0x222)]['BAD_REQUEST']);}async[_0x29aa7f(0x1ec)](_0x120439){const _0xfbef22=_0x335d04,_0x109f75=_0x53f9dd,_0x4e3b6d=_0x29aa7f,{word:_0x9b1596}=_0x120439,_0x369d3f=await this[_0x4e3b6d(0x1c8)][_0x4e3b6d(0x1e5)]({'where':{'word':_0x9b1596}});if(_0x369d3f)throw new common_1[(_0x4e3b6d(0x1de))](_0x4e3b6d(0x1d0),common_1[_0xfbef22(0x1f1)][_0x109f75(0x1a4)]);return await this[_0x109f75(0x180)][_0x109f75(0x179)]({'word':_0x9b1596}),await this[_0x4e3b6d(0x211)](),_0x4e3b6d(0x21e);}async[_0x29aa7f(0x1b2)](_0xcfb957,_0x43be3e,_0x31d86d,_0x49e1b8,_0x546b18){const _0x2889ea=_0x53f9dd,_0x385c7c=_0x29aa7f,_0x28a5f3={'userId':_0xcfb957,'content':_0x43be3e,'words':JSON['stringify'](_0x31d86d),'typeCn':JSON[_0x385c7c(0x1c0)](_0x49e1b8),'typeOriginCn':_0x546b18};try{await this[_0x385c7c(0x1e6)][_0x385c7c(0x200)]()[_0x385c7c(0x1e4)](user_entity_1[_0x385c7c(0x1f3)])[_0x385c7c(0x215)]({'violationCount':()=>_0x385c7c(0x220)})[_0x385c7c(0x1b6)](_0x2889ea(0x14e),{'userId':_0xcfb957})[_0x385c7c(0x1d7)](),await this[_0x385c7c(0x1ba)][_0x385c7c(0x1f0)](_0x28a5f3);}catch(_0x3a1456){console[_0x385c7c(0x20c)](_0x385c7c(0x1d2),_0x3a1456);}}async[_0x29aa7f(0x1b1)](_0x4f3093,_0x12a8df){const _0x1c67fe=_0x335d04,_0x586bf4=_0x53f9dd,_0x1f2197=_0x29aa7f,{role:_0x3f469c}=_0x4f3093[_0x1f2197(0x1f7)],{page:page=0x1,size:size=0xa,userId:_0xd92a48,typeOriginCn:_0x44a8e5}=_0x12a8df,_0x443315={};_0xd92a48&&(_0x443315[_0x1f2197(0x1b4)]=_0xd92a48),_0x44a8e5&&(_0x443315[_0x1f2197(0x1f6)]=_0x44a8e5);const [_0x2d7ca5,_0x26729e]=await this[_0x1c67fe(0x1da)][_0x1f2197(0x1f1)]({'where':_0x443315,'skip':(page-0x1)*size,'take':size,'order':{'id':_0x1f2197(0x1da)}}),_0x1e309b=[...new Set(_0x2d7ca5[_0x1f2197(0x216)](_0x55e10f=>_0x55e10f[_0x1f2197(0x1b4)]))],_0x563e1f=await this[_0x1f2197(0x1e6)][_0x1f2197(0x217)]({'where':{'id':(0x0,typeorm_1['In'])(_0x1e309b)},'select':['id',_0x1f2197(0x1d5),_0x1f2197(0x212),_0x586bf4(0x195),_0x1f2197(0x1ee),_0x1f2197(0x214)]});return _0x2d7ca5[_0x1f2197(0x1c2)](_0xdeceda=>{const _0x5e03e1=_0x586bf4,_0x43c555=_0x1f2197,_0x1da989=_0x563e1f[_0x43c555(0x217)](_0x49a4d3=>_0x49a4d3['id']===_0xdeceda[_0x43c555(0x1b4)]);_0x3f469c!==_0x43c555(0x203)&&(_0x1da989[_0x43c555(0x1c6)]=(0x0,utils_1[_0x43c555(0x1fa)])(_0x1da989[_0x43c555(0x1c6)])),_0xdeceda[_0x5e03e1(0x133)]=_0x1da989;}),{'rows':_0x2d7ca5,'count':_0x26729e};}};function _0x2de8(){const _0x5eb710=_0x335d04,_0x456d09=_0x53f9dd,_0x2c24c8=[_0x456d09(0x16a),'__metadata',_0x456d09(0x182),_0x456d09(0x17a),_0x456d09(0x192),_0x456d09(0x17e),_0x456d09(0x151),_0x5eb710(0x217),_0x456d09(0x194),_0x456d09(0x15f),'自定义检测',_0x456d09(0x152),_0x456d09(0x145),_0x456d09(0x166),_0x456d09(0x173),_0x456d09(0x19d),'添加敏感词成功',_0x456d09(0x161),_0x5eb710(0x1e8),_0x456d09(0x19c),'HttpStatus',_0x456d09(0x162),_0x456d09(0x19f),_0x456d09(0x13d),_0x456d09(0x155),_0x456d09(0x16e),_0x456d09(0x12e),_0x456d09(0x176),_0x5eb710(0x23a),_0x456d09(0x17c),_0x5eb710(0x225),_0x5eb710(0x1c7),_0x456d09(0x13c),_0x456d09(0x13b),_0x456d09(0x131),_0x456d09(0x157),'2457xmgJlg',_0x5eb710(0x22d),'extractContent',_0x456d09(0x183),_0x456d09(0x154),_0x456d09(0x18d),_0x456d09(0x17b),_0x456d09(0x14a),_0x5eb710(0x1d0),_0x456d09(0x13f),_0x456d09(0x195),_0x456d09(0x172),_0x456d09(0x180),_0x456d09(0x16f),_0x456d09(0x165),_0x456d09(0x175),_0x456d09(0x132),_0x456d09(0x15c),_0x5eb710(0x20a),_0x456d09(0x144),_0x456d09(0x185),_0x5eb710(0x1bc),_0x456d09(0x17d),_0x456d09(0x140),_0x5eb710(0x1db),_0x456d09(0x18e),_0x5eb710(0x1eb),_0x456d09(0x18b),_0x456d09(0x181),_0x456d09(0x190),_0x456d09(0x15b),_0x5eb710(0x1d4),_0x456d09(0x158),'includes',_0x456d09(0x139),_0x456d09(0x171),_0x456d09(0x1a3),'onModuleInit',_0x5eb710(0x228),_0x456d09(0x198),_0x456d09(0x17f),_0x456d09(0x189),_0x456d09(0x191),_0x456d09(0x15a),_0x456d09(0x188),_0x456d09(0x178),_0x456d09(0x14f),_0x5eb710(0x1d5),_0x5eb710(0x1e4),_0x456d09(0x197),_0x456d09(0x16d),_0x456d09(0x147),_0x5eb710(0x1b8),_0x5eb710(0x22c),_0x5eb710(0x229),_0x456d09(0x19b),_0x456d09(0x1a2),_0x456d09(0x12d),_0x456d09(0x19a),_0x5eb710(0x213),_0x456d09(0x143),_0x456d09(0x163),_0x456d09(0x169),_0x456d09(0x1a0),_0x456d09(0x14d),_0x456d09(0x146),_0x456d09(0x193),_0x5eb710(0x1c8),_0x456d09(0x177),_0x456d09(0x18a),_0x456d09(0x16b),_0x456d09(0x148),_0x456d09(0x1a4),_0x5eb710(0x22a),_0x456d09(0x13a),'data',_0x456d09(0x167),_0x456d09(0x186),_0x456d09(0x150),_0x5eb710(0x209),_0x5eb710(0x220),'1781355wFEcmc'];return _0x2de8=function(){return _0x2c24c8;},_0x2de8();}BadwordsService=__decorate([(0x0,common_1[_0x29aa7f(0x1fb)])(),__param(0x0,(0x0,typeorm_2[_0x29aa7f(0x219)])(badwords_entity_1[_0x29aa7f(0x21d)])),__param(0x1,(0x0,typeorm_2[_0x29aa7f(0x219)])(violationLog_entity_1[_0x29aa7f(0x1fc)])),__param(0x2,(0x0,typeorm_2[_0x29aa7f(0x219)])(user_entity_1[_0x29aa7f(0x1f3)])),__metadata(_0x29aa7f(0x1f9),[typeorm_1[_0x53f9dd(0x182)],typeorm_1[_0x29aa7f(0x210)],typeorm_1[_0x29aa7f(0x210)],globalConfig_service_1[_0x53f9dd(0x18c)]])],BadwordsService),exports[_0x29aa7f(0x1f8)]=BadwordsService;