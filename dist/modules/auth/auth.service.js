'use strict';const _0x5e60b1=_0xa523;(function(_0x17074d,_0x4d6a7b){const _0x18a8a3=_0xa523,_0x304386=_0x17074d();while(!![]){try{const _0x3070dc=-parseInt(_0x18a8a3(0x259))/0x1+-parseInt(_0x18a8a3(0x1d8))/0x2+-parseInt(_0x18a8a3(0x20c))/0x3+-parseInt(_0x18a8a3(0x254))/0x4*(-parseInt(_0x18a8a3(0x1e5))/0x5)+-parseInt(_0x18a8a3(0x20e))/0x6*(parseInt(_0x18a8a3(0x250))/0x7)+parseInt(_0x18a8a3(0x1ea))/0x8+parseInt(_0x18a8a3(0x247))/0x9;if(_0x3070dc===_0x4d6a7b)break;else _0x304386['push'](_0x304386['shift']());}catch(_0x5a6bd7){_0x304386['push'](_0x304386['shift']());}}}(_0x3895,0x99667));function _0x3895(){const _0xc29c87=['&registerSuccessEmaileAppend=','JwtService','createTokenFromFingerprint','defineProperty','activateAccount','sendPhoneCode','RedisCacheService','userService','queryUserInfoById','createMathExpr','21635055PLOeZj','function','2912316kjlgoa','user','BAD_REQUEST','response','networkInterfaces','账户已被激活过','__param','1321817vGQidA','验证码发送成功、请填写验证码完成注册！','getIp','registerSuccessEmailTeamName','176QoMrCp','127.0.0.1','createUserAndVerifycation','@nestjs/typeorm','/api/auth/registerSuccess?id=','216792gpVrqB','../redisCache/redisCache.service','AuthService','../../common/constants/user.constant','../userBalance/userBalance.service','decorate','ConfigEntity','&registerSuccessEmailTitle=','getConfigs','registerFailEmailTitle','686712qXFVzH','find','ACTIVE','UserStatusEnum','design:paramtypes','#fff','&registerSuccessEmailTeamName=','秒内不得重复发送短信！','userDefautlAvatar','error:\x20','../../common/constants/verification.constant','log','object','46985qfvlFj','createRandomCode','mailerService','HttpException','@nestjs/common','2072696WWDLuG','registerFailEmailTeamName','&registerFailEmailTitle=','711aojfJM','push','getInfo','svg-captcha','getNamespace','UserStatusErrMsg','MailerService','验证码类型错误','验证码已过期、请重新发送！','data','saveToken','keys','reduce','13301080rqnARv','hashSync','__decorate','loginByOpenId','VerificationService','@nine.com','registerSuccessEmaileAppend','userBalanceService','InjectRepository','HttpStatus','createRandomUid','padStart','旧密码错误、请检查提交','../../common/utils','addBalanceToNewUser','globalConfigService','Injectable','redirect','2831460XDmOgo','registerSuccessEmailTitle','30lNGueF','client','metadata','/api/auth/registerError?message=','242486TqQGRZ','&registerFailEmailTeamName=','UserBalanceService','internal','login','3085mEaolq','forEach','typeorm','get','__metadata','VerificationEnum','updatePassByOther','无权此操作！','1963251jIcyjD','verifyUserRegisterByPhone','avatar','redisCacheService','verifyCaptcha','oldPassword','ipAddress','ttl',':CAPTCHA:','configEntity','set','getOwnPropertyDescriptor','verificationService','onModuleInit','getUserInfo','../mailer/mailer.service','configKey','Repository','shift','updateUserStatus','captcha',':PHONECODE:','updatePassword','text','qureyUserInfoByInviteCode','verifyCode','../user/user.service','registerByPhone','IPv4','bcryptjs'];_0x3895=function(){return _0xc29c87;};return _0x3895();}const _0x2be9be=_0x1923;(function(_0x583188,_0x4f6435){const _0x360a9c=_0xa523,_0x1cbd3a=_0x1923,_0xf28818=_0x583188();while(!![]){try{const _0x7605c=parseInt(_0x1cbd3a(0x83))/0x1*(-parseInt(_0x1cbd3a(0xfe))/0x2)+-parseInt(_0x1cbd3a(0xb3))/0x3+parseInt(_0x1cbd3a(0xca))/0x4+-parseInt(_0x1cbd3a(0xd4))/0x5*(parseInt(_0x1cbd3a(0x94))/0x6)+-parseInt(_0x1cbd3a(0x8a))/0x7+parseInt(_0x1cbd3a(0xaa))/0x8+parseInt(_0x1cbd3a(0xe5))/0x9*(parseInt(_0x1cbd3a(0xab))/0xa);if(_0x7605c===_0x4f6435)break;else _0xf28818[_0x360a9c(0x1ee)](_0xf28818[_0x360a9c(0x231)]());}catch(_0x5988a9){_0xf28818[_0x360a9c(0x1ee)](_0xf28818[_0x360a9c(0x231)]());}}}(_0x319b,0xf11e4));var __decorate=this&&this[_0x2be9be(0x92)]||function(_0x5e8728,_0x4a6953,_0x17451f,_0x22d615){const _0x3fc22c=_0xa523,_0x382ec3=_0x2be9be;var _0x2c96a6=arguments['length'],_0x288737=_0x2c96a6<0x3?_0x4a6953:_0x22d615===null?_0x22d615=Object[_0x3fc22c(0x22a)](_0x4a6953,_0x17451f):_0x22d615,_0x329720;if(typeof Reflect===_0x382ec3(0xf7)&&typeof Reflect[_0x3fc22c(0x25e)]===_0x382ec3(0xd9))_0x288737=Reflect[_0x382ec3(0xe1)](_0x5e8728,_0x4a6953,_0x17451f,_0x22d615);else{for(var _0x5b5142=_0x5e8728[_0x382ec3(0x84)]-0x1;_0x5b5142>=0x0;_0x5b5142--)if(_0x329720=_0x5e8728[_0x5b5142])_0x288737=(_0x2c96a6<0x3?_0x329720(_0x288737):_0x2c96a6>0x3?_0x329720(_0x4a6953,_0x17451f,_0x288737):_0x329720(_0x4a6953,_0x17451f))||_0x288737;}return _0x2c96a6>0x3&&_0x288737&&Object[_0x382ec3(0xda)](_0x4a6953,_0x17451f,_0x288737),_0x288737;},__metadata=this&&this[_0x5e60b1(0x21b)]||function(_0x57d4bc,_0x22e49a){const _0x25d96a=_0x2be9be;if(typeof Reflect===_0x25d96a(0xf7)&&typeof Reflect[_0x25d96a(0xf4)]===_0x25d96a(0xd9))return Reflect[_0x25d96a(0xf4)](_0x57d4bc,_0x22e49a);},__param=this&&this[_0x2be9be(0xe8)]||function(_0x5df3ca,_0x88aad4){return function(_0xffed0d,_0x5de2e8){_0x88aad4(_0xffed0d,_0x5de2e8,_0x5df3ca);};};Object[_0x5e60b1(0x240)](exports,'__esModule',{'value':!![]}),exports[_0x2be9be(0xde)]=void 0x0;const globalConfig_service_1=require('../globalConfig/globalConfig.service'),verification_constant_1=require(_0x2be9be(0xcc)),verification_service_1=require(_0x2be9be(0xbb)),common_1=require(_0x2be9be(0x9d)),jwt_1=require(_0x2be9be(0xb4)),user_service_1=require(_0x2be9be(0xc3)),mailer_service_1=require(_0x2be9be(0x99)),user_constant_1=require(_0x2be9be(0x87)),userBalance_service_1=require(_0x2be9be(0x82)),config_entity_1=require(_0x2be9be(0xe2)),typeorm_1=require(_0x2be9be(0xdb)),typeorm_2=require(_0x2be9be(0xa4)),utils_1=require(_0x2be9be(0xcd)),os=require('os'),redisCache_service_1=require(_0x2be9be(0x8b)),svgCaptcha=require(_0x2be9be(0xdc)),bcrypt=require(_0x2be9be(0x88));function _0x1923(_0x331c0c,_0x22d99c){const _0x25568f=_0x319b();return _0x1923=function(_0x221e3c,_0x54b9d1){_0x221e3c=_0x221e3c-0x7c;let _0x7817db=_0x25568f[_0x221e3c];return _0x7817db;},_0x1923(_0x331c0c,_0x22d99c);}function _0xa523(_0x11421f,_0x514e6b){const _0x3895fb=_0x3895();return _0xa523=function(_0xa52361,_0x25ba28){_0xa52361=_0xa52361-0x1d7;let _0x482de2=_0x3895fb[_0xa52361];return _0x482de2;},_0xa523(_0x11421f,_0x514e6b);}let AuthService=class AuthService{constructor(_0x366c53,_0x2740ad,_0x1712f8,_0x3cbed2,_0x333e10,_0x55c59a,_0x559f15,_0x590885){const _0x53a6e2=_0x5e60b1,_0x120c2b=_0x2be9be;this[_0x120c2b(0x95)]=_0x366c53,this[_0x120c2b(0xdf)]=_0x2740ad,this[_0x120c2b(0x9a)]=_0x1712f8,this[_0x120c2b(0xec)]=_0x3cbed2,this[_0x120c2b(0xed)]=_0x333e10,this[_0x120c2b(0xb0)]=_0x55c59a,this[_0x53a6e2(0x222)]=_0x559f15,this[_0x120c2b(0x86)]=_0x590885;}async[_0x5e60b1(0x22c)](){const _0x585c83=_0x5e60b1;this[_0x585c83(0x252)]();}async[_0x2be9be(0xe9)](_0x9c0355,_0x41fd19){const _0x553517=_0x5e60b1,_0x505255=_0x2be9be;await this[_0x505255(0xed)][_0x505255(0xc9)](_0x9c0355);const _0x387d3e=await this[_0x505255(0xdf)][_0x505255(0xa8)](_0x9c0355,_0x41fd19),{username:_0x36f89b,email:_0x4b9da7,client:_0x5df7a6,id:_0x15805f}=_0x387d3e,_0x583175={'username':_0x36f89b,'email':_0x4b9da7,'id':_0x15805f};return _0x5df7a6&&(_0x583175[_0x553517(0x20f)]=_0x5df7a6),_0x583175;}async[_0x2be9be(0xe7)](_0x315351,_0x32d0cf){const _0x155582=_0x5e60b1,_0x595c72=_0x2be9be,{username:_0x2ba205,password:_0x37aab2,phone:_0x30735c,phoneCode:_0x309887,invitedBy:_0x47dc32}=_0x315351;await this[_0x595c72(0xdf)][_0x595c72(0xa6)](_0x315351);const _0x2ff9ff=await this[_0x595c72(0x86)][_0x595c72(0xef)](),_0x33bea0=_0x2ff9ff+_0x595c72(0x85)+_0x30735c,_0x434abd=await this[_0x595c72(0xf3)][_0x595c72(0xbe)]({'key':_0x33bea0});if(!_0x434abd)throw new common_1['HttpException'](_0x155582(0x1f5),common_1[_0x595c72(0xfd)][_0x595c72(0xe4)]);if(_0x309887!==_0x434abd)throw new common_1[(_0x595c72(0x93))](_0x595c72(0xb8),common_1[_0x155582(0x203)][_0x595c72(0xe4)]);const _0x21dd30=(0x0,utils_1[_0x595c72(0xc6)])()+_0x155582(0x1ff),_0x18f7ed={'username':_0x2ba205,'password':_0x37aab2,'phone':_0x30735c,'invitedBy':_0x47dc32,'email':_0x21dd30,'status':user_constant_1[_0x595c72(0x96)][_0x155582(0x1da)]},_0x30f6a0=await this[_0x595c72(0x86)][_0x595c72(0x7e)]([_0x595c72(0xd1)]);_0x18f7ed[_0x595c72(0xeb)]=_0x30f6a0;const _0x50c3f7=bcrypt[_0x595c72(0x8f)](_0x37aab2,0xa);_0x18f7ed[_0x595c72(0xa5)]=_0x50c3f7;const _0x1dd78d=await this[_0x595c72(0xdf)][_0x595c72(0xe0)](_0x18f7ed);let _0x2a3375;_0x47dc32&&(_0x2a3375=await this[_0x595c72(0xdf)][_0x595c72(0x98)](_0x47dc32)),await this[_0x155582(0x201)]['addBalanceToNewUser'](_0x1dd78d['id'],_0x2a3375===null||_0x2a3375===void 0x0?void 0x0:_0x2a3375['id']);return;}async[_0x2be9be(0xe6)](_0x6d78fe,_0x5d3305){const _0x23686e=_0x2be9be,_0x5360fa=await this[_0x23686e(0xdf)][_0x23686e(0x8c)](_0x6d78fe),{username:_0x5a3e0e,id:_0x2e78b9,email:_0x541223,role:_0x4fa1d1,openId:_0xf88e35,client:_0x2aacc9}=_0x5360fa,_0x5e4a42=(0x0,utils_1[_0x23686e(0xcf)])(_0x5d3305);await this[_0x23686e(0xdf)][_0x23686e(0x89)](_0x2e78b9,_0x5e4a42);const _0x23e941=await this[_0x23686e(0x9a)][_0x23686e(0xf5)]({'username':_0x5a3e0e,'id':_0x2e78b9,'email':_0x541223,'role':_0x4fa1d1,'openId':_0xf88e35,'client':_0x2aacc9});return await this['redisCacheService'][_0x23686e(0xad)](_0x2e78b9,_0x23e941),_0x23e941;}async['loginByPhone'](_0x3f818f,_0x52d125){const _0x4dd863=_0x5e60b1,_0x4a9b51=_0x2be9be,_0xa360e2=await this[_0x4a9b51(0xdf)][_0x4a9b51(0x8c)](_0x3f818f),{username:_0x1b79df,id:_0x3b043b,email:_0x4a842d,role:_0x5bbb5c,openId:_0x3e096f,client:_0x56bf40}=_0xa360e2,_0x4b2564=(0x0,utils_1[_0x4a9b51(0xcf)])(_0x52d125);await this[_0x4dd863(0x244)][_0x4a9b51(0x89)](_0x3b043b,_0x4b2564);const {phone:_0x40b1c4}=_0x3f818f,_0x53a7b0=await this[_0x4a9b51(0x9a)][_0x4a9b51(0xf5)]({'username':_0x1b79df,'id':_0x3b043b,'email':_0x4a842d,'role':_0x5bbb5c,'openId':_0x3e096f,'client':_0x56bf40,'phone':_0x40b1c4});return await this[_0x4a9b51(0xf3)][_0x4a9b51(0xad)](_0x3b043b,_0x53a7b0),_0x53a7b0;}async[_0x2be9be(0xfb)](_0x3fdcb6,_0x27ccad){const _0x53ae06=_0x5e60b1,_0x117541=_0x2be9be,{status:_0x409901}=_0x3fdcb6;if(_0x409901!==user_constant_1[_0x117541(0x96)]['ACTIVE'])throw new common_1[(_0x53ae06(0x1e8))](user_constant_1[_0x53ae06(0x1f2)][_0x409901],common_1[_0x117541(0xfd)][_0x53ae06(0x24b)]);const {username:_0x32faec,id:_0x3a1987,email:_0x324cac,role:_0x3c37ce,openId:_0x3259f9,client:_0x238129}=_0x3fdcb6,_0x1f36dc=(0x0,utils_1[_0x117541(0xcf)])(_0x27ccad);await this[_0x117541(0xdf)][_0x117541(0x89)](_0x3a1987,_0x1f36dc);const _0x351807=await this[_0x117541(0x9a)][_0x117541(0xf5)]({'username':_0x32faec,'id':_0x3a1987,'email':_0x324cac,'role':_0x3c37ce,'openId':_0x3259f9,'client':_0x238129});return await this[_0x117541(0xf3)]['saveToken'](_0x3a1987,_0x351807),_0x351807;}async[_0x5e60b1(0x1ef)](_0x998ffd){const _0x30b4b3=_0x5e60b1,_0x5a0ebc=_0x2be9be,{id:_0x1920ef}=_0x998ffd[_0x30b4b3(0x24a)];return await this['userService'][_0x5a0ebc(0xe3)](_0x1920ef);}async[_0x5e60b1(0x241)](_0x483ef6,_0x19ba63){const _0x30810c=_0x5e60b1,_0x2095fd=_0x2be9be,_0x451947=await this[_0x2095fd(0x95)][_0x30810c(0x1d9)]({'where':{'configKey':(0x0,typeorm_1['In'])([_0x2095fd(0xd3),_0x2095fd(0xba),_0x2095fd(0xd5),_0x30810c(0x1d7),_0x2095fd(0xf6)])}}),_0x3b5d6b=_0x451947[_0x30810c(0x1f9)]((_0x26e3dd,_0xc8d65b)=>{const _0x1adde8=_0x30810c;return _0x26e3dd[_0xc8d65b[_0x1adde8(0x22f)]]=_0xc8d65b['configVal'],_0x26e3dd;},{});try{const _0x1c8a0d=await this[_0x2095fd(0xed)][_0x2095fd(0x7c)](_0x483ef6,verification_constant_1[_0x2095fd(0xb9)][_0x2095fd(0xc4)]),{type:_0x4f50f3,userId:_0x1f2893}=_0x1c8a0d;if(_0x4f50f3!==verification_constant_1[_0x2095fd(0xb9)][_0x2095fd(0xc4)])throw new common_1[(_0x30810c(0x1e8))](_0x30810c(0x1f4),common_1[_0x2095fd(0xfd)][_0x2095fd(0xe4)]);const _0x3c3554=await this[_0x30810c(0x244)][_0x2095fd(0xd8)](_0x1f2893);if(_0x3c3554===user_constant_1[_0x2095fd(0x96)][_0x2095fd(0x103)])throw new common_1['HttpException'](_0x2095fd(0xae),common_1['HttpStatus'][_0x30810c(0x24b)]);await this[_0x2095fd(0xdf)][_0x2095fd(0x7d)](_0x1c8a0d[_0x2095fd(0xa7)],user_constant_1[_0x2095fd(0x96)][_0x2095fd(0x103)]);const _0x181576=await this[_0x2095fd(0xdf)][_0x2095fd(0xa0)](_0x1c8a0d['userId']),{username:_0x364f5c,email:_0x64b479,id:_0x4e2e0d,invitedBy:_0x478332}=_0x181576;let _0x151e56;_0x478332&&(_0x151e56=await this[_0x2095fd(0xdf)][_0x30810c(0x237)](_0x478332)),await this[_0x2095fd(0xb0)][_0x2095fd(0x102)](_0x4e2e0d,_0x151e56===null||_0x151e56===void 0x0?void 0x0:_0x151e56['id']),_0x19ba63[_0x30810c(0x20b)](_0x2095fd(0xf8)+_0x4e2e0d[_0x2095fd(0xd6)]()[_0x2095fd(0x100)](0x4,'0')+_0x2095fd(0x8d)+_0x364f5c+_0x2095fd(0xb1)+_0x64b479+_0x2095fd(0x90)+_0x3b5d6b[_0x30810c(0x20d)]+_0x2095fd(0x104)+_0x3b5d6b[_0x2095fd(0xba)]+_0x30810c(0x23d)+_0x3b5d6b[_0x2095fd(0xd5)]);}catch(_0x3ad963){console[_0x2095fd(0x105)](_0x2095fd(0xdd),_0x3ad963);const _0xdf9d5d=_0x3ad963[_0x30810c(0x24c)];_0x19ba63[_0x30810c(0x20b)](_0x2095fd(0xb7)+_0xdf9d5d+_0x2095fd(0x106)+_0x3b5d6b[_0x2095fd(0xa9)]+_0x2095fd(0x8e)+_0x3b5d6b[_0x2095fd(0xf6)]);}}async[_0x2be9be(0xc8)](_0x732259,_0x2cddff){const _0x1a9335=_0x5e60b1,_0x216f45=_0x2be9be,{id:_0x65b817,client:_0x1b598b,role:_0x555f50}=_0x732259[_0x216f45(0xbc)];if(_0x1b598b&&Number(_0x1b598b)>0x0)throw new common_1['HttpException'](_0x216f45(0xbd),common_1[_0x216f45(0xfd)][_0x216f45(0xe4)]);if(_0x555f50===_0x216f45(0x9c))throw new common_1[(_0x216f45(0x93))](_0x216f45(0x91),common_1[_0x1a9335(0x203)][_0x216f45(0xe4)]);const _0x4b210f=await this[_0x216f45(0xdf)][_0x216f45(0xa2)](_0x65b817,_0x2cddff[_0x216f45(0xa1)]);if(!_0x4b210f)throw new common_1[(_0x216f45(0x93))](_0x216f45(0xfc),common_1[_0x216f45(0xfd)][_0x216f45(0xe4)]);return this[_0x216f45(0xdf)][_0x216f45(0x7f)](_0x65b817,_0x2cddff[_0x216f45(0xa5)]),_0x216f45(0xf2);}async[_0x5e60b1(0x21d)](_0x3c4c92,_0x47825a){const _0x46e0db=_0x2be9be,{id:_0x2b2b40,client:_0x30befb}=_0x3c4c92[_0x46e0db(0xbc)];if(!_0x30befb)throw new common_1[(_0x46e0db(0x93))](_0x46e0db(0xf9),common_1[_0x46e0db(0xfd)][_0x46e0db(0xe4)]);return this[_0x46e0db(0xdf)][_0x46e0db(0x7f)](_0x2b2b40,_0x47825a[_0x46e0db(0xa5)]),_0x46e0db(0xf2);}[_0x2be9be(0xb6)](){const _0x449502=_0x5e60b1,_0x5e751e=_0x2be9be;let _0x556735;const _0x1b2363=os[_0x449502(0x24d)]();Object[_0x5e751e(0xc1)](_0x1b2363)[_0x5e751e(0xc2)](_0x5f0e50=>{const _0x653859=_0x449502,_0xab9129=_0x5e751e,_0x2c39d3=_0x1b2363[_0x5f0e50];for(let _0x5093cf=0x0;_0x5093cf<_0x2c39d3['length'];_0x5093cf++){const _0x424602=_0x2c39d3[_0x5093cf];if(_0x424602[_0xab9129(0xb2)]===_0xab9129(0xce)&&_0x424602[_0xab9129(0x9b)]!==_0x653859(0x255)&&!_0x424602[_0xab9129(0xd0)]){_0x556735=_0x424602[_0xab9129(0x9b)];break;}}}),this[_0x5e751e(0x80)]=_0x556735;}async[_0x5e60b1(0x233)](_0x4b1935){const _0x1fa2b9=_0x5e60b1,_0xcd938e=_0x2be9be,_0x1c01c7=await this[_0x1fa2b9(0x209)][_0x1fa2b9(0x1f1)](),{color:color=_0xcd938e(0x9f)}=_0x4b1935,_0x2b1f57=svgCaptcha[_0xcd938e(0x97)]({'background':color,'height':0x22,'width':0x78,'noise':0x3}),_0x326aad=_0x2b1f57[_0xcd938e(0xd7)],_0x11ef14=(0x0,utils_1[_0xcd938e(0xc6)])(),_0x17c9c0=_0x1c01c7+_0xcd938e(0xf1)+_0x11ef14;return await this[_0xcd938e(0xf3)][_0xcd938e(0xf0)]({'key':_0x17c9c0,'val':_0x2b1f57[_0xcd938e(0xd7)]},0x5*0x3c),{'svgCode':_0x2b1f57[_0xcd938e(0xcb)],'code':_0x11ef14};}async[_0x2be9be(0xc0)](_0xfc506e){const _0x835afe=_0x5e60b1,_0x5cae60=_0x2be9be;await this[_0x835afe(0x22b)][_0x835afe(0x223)](_0xfc506e);const {phone:_0x34d17f}=_0xfc506e,_0x39dabd=await this[_0x5cae60(0x86)][_0x5cae60(0xef)](),_0x434eb2=_0x39dabd+_0x835afe(0x234)+_0x34d17f,_0x230998=await this[_0x5cae60(0xf3)][_0x5cae60(0xac)](_0x434eb2);if(_0x230998&&_0x230998>0x0)throw new common_1[(_0x5cae60(0x93))](_0x230998+_0x5cae60(0xbf),common_1[_0x835afe(0x203)][_0x5cae60(0xe4)]);const _0x3e2f1b=(0x0,utils_1[_0x5cae60(0xc7)])(),_0x238f40={'phone':_0x34d17f,'code':_0x3e2f1b};return await this[_0x5cae60(0xed)][_0x5cae60(0xc0)](_0x238f40),await this[_0x5cae60(0xf3)][_0x5cae60(0xf0)]({'key':_0x434eb2,'val':_0x3e2f1b},0x1*0x3c),_0x5cae60(0xb5);}[_0x2be9be(0xd2)](_0x4f0f9e){const _0x50bf0a=_0x2be9be,_0x537430=this[_0x50bf0a(0x9a)][_0x50bf0a(0xf5)]({'username':'游客'+_0x4f0f9e,'id':_0x4f0f9e,'email':_0x4f0f9e+_0x50bf0a(0xa3),'role':'visitor','openId':null,'client':null});return _0x537430;}};function _0x319b(){const _0x23a827=_0x5e60b1,_0x39b779=[_0x23a827(0x25a),'verifyUserCredentials','&username=',_0x23a827(0x213),_0x23a827(0x1fb),_0x23a827(0x260),'非法操作、请联系管理员！',_0x23a827(0x1fc),_0x23a827(0x1e8),'906kHfNHe',_0x23a827(0x228),_0x23a827(0x1db),_0x23a827(0x246),_0x23a827(0x237),_0x23a827(0x22e),'jwtService','address','admin',_0x23a827(0x1e9),'UserService',_0x23a827(0x1dd),_0x23a827(0x245),_0x23a827(0x224),'verifyUserPassword',_0x23a827(0x1ff),_0x23a827(0x257),'password',_0x23a827(0x220),'userId',_0x23a827(0x256),'registerFailEmailTitle',_0x23a827(0x1fa),'294310TndXga',_0x23a827(0x226),_0x23a827(0x1f7),_0x23a827(0x24e),_0x23a827(0x1fe),_0x23a827(0x201),'&email=','family',_0x23a827(0x21f),'@nestjs/jwt',_0x23a827(0x251),_0x23a827(0x252),_0x23a827(0x211),'验证码填写错误、请重新输入！',_0x23a827(0x21c),_0x23a827(0x253),'../verification/verification.service',_0x23a827(0x24a),'无权此操作、请联系管理员！',_0x23a827(0x21a),_0x23a827(0x1df),_0x23a827(0x242),_0x23a827(0x1f8),_0x23a827(0x218),_0x23a827(0x239),'Registration',_0x23a827(0x23e),_0x23a827(0x204),_0x23a827(0x1e6),_0x23a827(0x235),_0x23a827(0x223),_0x23a827(0x249),_0x23a827(0x1f6),_0x23a827(0x1e2),_0x23a827(0x207),_0x23a827(0x23b),'getClientIp',_0x23a827(0x215),_0x23a827(0x1e0),_0x23a827(0x23f),_0x23a827(0x20d),_0x23a827(0x217),_0x23a827(0x200),'toString',_0x23a827(0x236),'getUserStatus',_0x23a827(0x248),_0x23a827(0x240),_0x23a827(0x219),_0x23a827(0x1f0),_0x23a827(0x1e1),_0x23a827(0x25b),'userService','createUser',_0x23a827(0x25e),'../globalConfig/config.entity',_0x23a827(0x22d),_0x23a827(0x24b),_0x23a827(0x1ed),_0x23a827(0x216),_0x23a827(0x23a),_0x23a827(0x24f),'register',_0x23a827(0x25f),_0x23a827(0x221),_0x23a827(0x1e7),'verificationService',_0x23a827(0x202),'getNamespace',_0x23a827(0x229),_0x23a827(0x227),'密码修改成功',_0x23a827(0x222),_0x23a827(0x210),'sign',_0x23a827(0x1eb),_0x23a827(0x1e4),_0x23a827(0x258),_0x23a827(0x21e),'GlobalConfigService',_0x23a827(0x1fd),_0x23a827(0x206),'HttpStatus','14HGgHQA',_0x23a827(0x230),_0x23a827(0x205),_0x23a827(0x1dc),_0x23a827(0x208),_0x23a827(0x1da),_0x23a827(0x1de),_0x23a827(0x1e3),_0x23a827(0x1ec),_0x23a827(0x238),_0x23a827(0x232),_0x23a827(0x261),'updateUserPassword',_0x23a827(0x225),_0x23a827(0x214),_0x23a827(0x25d),_0x23a827(0x212),'length',_0x23a827(0x234),_0x23a827(0x209),_0x23a827(0x25c),_0x23a827(0x23c),'savaLoginIp','8982099vnnQRs'];return _0x319b=function(){return _0x39b779;},_0x319b();}AuthService=__decorate([(0x0,common_1[_0x5e60b1(0x20a)])(),__param(0x0,(0x0,typeorm_2[_0x2be9be(0xee)])(config_entity_1[_0x2be9be(0xea)])),__metadata(_0x2be9be(0x101),[typeorm_1[_0x2be9be(0xff)],user_service_1[_0x2be9be(0x9e)],jwt_1[_0x2be9be(0xc5)],mailer_service_1[_0x5e60b1(0x1f3)],verification_service_1[_0x2be9be(0xaf)],userBalance_service_1[_0x2be9be(0x81)],redisCache_service_1[_0x5e60b1(0x243)],globalConfig_service_1[_0x2be9be(0xfa)]])],AuthService),exports[_0x5e60b1(0x25b)]=AuthService;