'use strict';const _0x3398cb=_0x5288;(function(_0x534e1f,_0x24dbb4){const _0x4cce28=_0x5288,_0x16322f=_0x534e1f();while(!![]){try{const _0x14fbe2=parseInt(_0x4cce28(0x131))/0x1*(-parseInt(_0x4cce28(0x10f))/0x2)+parseInt(_0x4cce28(0x11b))/0x3+-parseInt(_0x4cce28(0x11e))/0x4*(-parseInt(_0x4cce28(0x12a))/0x5)+-parseInt(_0x4cce28(0x110))/0x6*(-parseInt(_0x4cce28(0x10a))/0x7)+-parseInt(_0x4cce28(0x10b))/0x8*(-parseInt(_0x4cce28(0x114))/0x9)+-parseInt(_0x4cce28(0x101))/0xa*(parseInt(_0x4cce28(0x112))/0xb)+-parseInt(_0x4cce28(0x115))/0xc;if(_0x14fbe2===_0x24dbb4)break;else _0x16322f['push'](_0x16322f['shift']());}catch(_0x6a9af8){_0x16322f['push'](_0x16322f['shift']());}}}(_0x9f1b,0x69dcf));const _0x167503=_0x20e4;function _0xaa9e(){const _0x1e4682=_0x5288,_0x106ec4=['7Gnhdbg','length',_0x1e4682(0x135),_0x1e4682(0x129),_0x1e4682(0x111),_0x1e4682(0x134),_0x1e4682(0x119),_0x1e4682(0x109),_0x1e4682(0x117),_0x1e4682(0x12b),'Injectable','64635oLOESY','get',_0x1e4682(0x122),_0x1e4682(0x116),_0x1e4682(0x113),_0x1e4682(0x106),_0x1e4682(0x12d),_0x1e4682(0x103),_0x1e4682(0x126),_0x1e4682(0x107),'user','54ZckwqM','design:paramtypes','invalidateTokens',_0x1e4682(0x130),'getOwnPropertyDescriptor',_0x1e4682(0x12e),_0x1e4682(0x121),_0x1e4682(0x10d),'aaa',_0x1e4682(0x11a),'635409QdQlcM','@nestjs/common',_0x1e4682(0x12c),_0x1e4682(0x10c),_0x1e4682(0x118),_0x1e4682(0x104),_0x1e4682(0x125),_0x1e4682(0x11f),_0x1e4682(0x11c),_0x1e4682(0x102),'1954QrGTEk',_0x1e4682(0x123),_0x1e4682(0x132),_0x1e4682(0x133),'3wxSCcE'];return _0xaa9e=function(){return _0x106ec4;},_0xaa9e();}function _0x5288(_0x5045ac,_0x7bf2c4){const _0x9f1bc7=_0x9f1b();return _0x5288=function(_0x5288b7,_0xf5e534){_0x5288b7=_0x5288b7-0x101;let _0x20f510=_0x9f1bc7[_0x5288b7];return _0x20f510;},_0x5288(_0x5045ac,_0x7bf2c4);}(function(_0x221293,_0x2f15b6){const _0x55e47e=_0x5288,_0x24af2b=_0x20e4,_0x2fa14b=_0x221293();while(!![]){try{const _0x3de853=parseInt(_0x24af2b(0x137))/0x1*(-parseInt(_0x24af2b(0x133))/0x2)+parseInt(_0x24af2b(0x129))/0x3+-parseInt(_0x24af2b(0x11c))/0x4+parseInt(_0x24af2b(0x114))/0x5*(parseInt(_0x24af2b(0x11f))/0x6)+parseInt(_0x24af2b(0x138))/0x7*(-parseInt(_0x24af2b(0x112))/0x8)+parseInt(_0x24af2b(0x12d))/0x9+-parseInt(_0x24af2b(0x119))/0xa*(parseInt(_0x24af2b(0x130))/0xb);if(_0x3de853===_0x2f15b6)break;else _0x2fa14b['push'](_0x2fa14b[_0x55e47e(0x124)]());}catch(_0x398176){_0x2fa14b[_0x55e47e(0x128)](_0x2fa14b[_0x55e47e(0x124)]());}}}(_0xaa9e,0x2f85e));var __decorate=this&&this[_0x167503(0x136)]||function(_0xb18f4,_0x3dcbb8,_0x2129b0,_0x19e644){const _0x422cb1=_0x5288,_0x23e3cf=_0x167503;var _0xbc0e1d=arguments[_0x422cb1(0x105)],_0x42b45a=_0xbc0e1d<0x3?_0x3dcbb8:_0x19e644===null?_0x19e644=Object[_0x23e3cf(0x123)](_0x3dcbb8,_0x2129b0):_0x19e644,_0x13db8a;if(typeof Reflect===_0x23e3cf(0x13a)&&typeof Reflect[_0x23e3cf(0x13b)]===_0x23e3cf(0x125))_0x42b45a=Reflect[_0x23e3cf(0x13b)](_0xb18f4,_0x3dcbb8,_0x2129b0,_0x19e644);else{for(var _0x5279eb=_0xb18f4[_0x23e3cf(0x139)]-0x1;_0x5279eb>=0x0;_0x5279eb--)if(_0x13db8a=_0xb18f4[_0x5279eb])_0x42b45a=(_0xbc0e1d<0x3?_0x13db8a(_0x42b45a):_0xbc0e1d>0x3?_0x13db8a(_0x3dcbb8,_0x2129b0,_0x42b45a):_0x13db8a(_0x3dcbb8,_0x2129b0))||_0x42b45a;}return _0xbc0e1d>0x3&&_0x42b45a&&Object['defineProperty'](_0x3dcbb8,_0x2129b0,_0x42b45a),_0x42b45a;},__metadata=this&&this[_0x3398cb(0x11d)]||function(_0x573d23,_0x5d15ce){const _0x130fd7=_0x167503;if(typeof Reflect===_0x130fd7(0x13a)&&typeof Reflect[_0x130fd7(0x12c)]===_0x130fd7(0x125))return Reflect[_0x130fd7(0x12c)](_0x573d23,_0x5d15ce);},__param=this&&this[_0x167503(0x134)]||function(_0xb05d7f,_0x44b38e){return function(_0x56feba,_0x34d518){_0x44b38e(_0x56feba,_0x34d518,_0xb05d7f);};};function _0x9f1b(){const _0xad2087=['__metadata','41340kJpZXh','22FkOmbw','admin','function','BAD_REQUEST','__param','shift','onModuleInit','332116dlcxxF','HttpStatus','push','decorate','180apjZng','2832936HibDai','REDIS_CLIENT','visitor','includes','Inject','UNAUTHORIZED','21517twuJov','redisClient','__decorate','super','object','8625630ehuESV','zRange','token:','set','length','87020DmYoLW','tokens:','forEach','__esModule','17087qxOlCj','96cghthX','metadata','test','您已在其他设备覆盖登录、请您重新登录！','20PDEPlM','1764ymBlrv','expire','11OYzpGf','HttpException','292311fORpTd','8671116WMvOSB','ttl','defineProperty','2915901tprqAA','del','RedisCacheService','2263437CBFKig','checkTokenAuth'];_0x9f1b=function(){return _0xad2087;};return _0x9f1b();}Object[_0x167503(0x140)](exports,_0x167503(0x13f),{'value':!![]}),exports[_0x167503(0x128)]=void 0x0;const common_1=require(_0x167503(0x12a));let RedisCacheService=class RedisCacheService{constructor(_0x1ca132){this['redisClient']=_0x1ca132;}async[_0x167503(0x12f)](){}[_0x167503(0x126)](){const _0x257d29=_0x167503;return this[_0x257d29(0x135)][_0x257d29(0x12e)](_0x257d29(0x127),0x6f),0x1;}async[_0x167503(0x115)](_0x334246){const _0x354270=_0x167503,{key:_0x460bef}=_0x334246,_0x2d5eb1=await this[_0x354270(0x135)]['get'](_0x460bef);return await this[_0x354270(0x135)][_0x354270(0x115)](_0x460bef);}async[_0x167503(0x12e)](_0x3c4fb6,_0x2688d6){const _0x50f04=_0x167503;try{const {key:_0x1b0ce1,val:_0x17e2ef}=_0x3c4fb6;await this[_0x50f04(0x135)]['set'](_0x1b0ce1,_0x17e2ef),_0x2688d6&&await this[_0x50f04(0x135)][_0x50f04(0x13c)](_0x1b0ce1,_0x2688d6);return;}catch(_0x496fa1){throw new common_1[(_0x50f04(0x118))](_0x496fa1,common_1['HttpStatus'][_0x50f04(0x116)]);}}async[_0x167503(0x117)](_0x368742){const _0x312e6e=_0x167503;return await this[_0x312e6e(0x135)][_0x312e6e(0x117)](_0x368742);}async['del'](_0x6da730){const _0x3ada9e=_0x167503,{key:_0x475c89}=_0x6da730;await this[_0x3ada9e(0x135)][_0x3ada9e(0x13e)](_0x475c89);return;}async['saveToken'](_0x24f8b4,_0x11499d){const _0x3123c4=_0x3398cb,_0x2dd73b=_0x167503,_0x23d860=await this[_0x2dd73b(0x135)][_0x2dd73b(0x132)](_0x2dd73b(0x11d)+_0x24f8b4,0x0,-0x1);await this[_0x2dd73b(0x121)](_0x24f8b4,_0x23d860),this[_0x3123c4(0x132)][_0x2dd73b(0x12e)](_0x2dd73b(0x11b)+_0x24f8b4,_0x11499d);}async[_0x167503(0x121)](_0x224d5a,_0x5a6e71){const _0x2f9914=_0x3398cb;_0x5a6e71[_0x2f9914(0x108)](_0x18d5de=>{const _0x3ec723=_0x2f9914,_0x1fc408=_0x20e4;this[_0x1fc408(0x135)][_0x1fc408(0x13e)](_0x3ec723(0x103)+_0x224d5a+':'+_0x18d5de);});}async[_0x167503(0x131)](_0x3b142f,_0x30e720){const _0x138a16=_0x3398cb,_0x58e0de=_0x167503,{id:_0x177771,role:_0x248410}=_0x30e720[_0x58e0de(0x11e)];if(_0x248410===_0x58e0de(0x11a))return!![];const _0x3758b7=await this[_0x58e0de(0x135)][_0x58e0de(0x115)](_0x58e0de(0x11b)+_0x177771);if(_0x3758b7===null)return await this[_0x58e0de(0x135)][_0x58e0de(0x12e)]('token:'+_0x177771,_0x3b142f),!![];if(_0x3758b7!==_0x3b142f){if([_0x58e0de(0x13d),_0x138a16(0x120)][_0x58e0de(0x124)](_0x248410))return!![];throw new common_1[(_0x58e0de(0x118))](_0x138a16(0x10e),common_1[_0x138a16(0x127)][_0x58e0de(0x122)]);}}};function _0x20e4(_0x151cbf,_0x14a755){const _0x3dbb37=_0xaa9e();return _0x20e4=function(_0x4056d4,_0x3eed7b){_0x4056d4=_0x4056d4-0x112;let _0x29f960=_0x3dbb37[_0x4056d4];return _0x29f960;},_0x20e4(_0x151cbf,_0x14a755);}RedisCacheService=__decorate([(0x0,common_1[_0x167503(0x113)])(),__param(0x0,(0x0,common_1[_0x3398cb(0x12f)])(_0x167503(0x12b))),__metadata(_0x167503(0x120),[Object])],RedisCacheService),exports[_0x3398cb(0x11a)]=RedisCacheService;