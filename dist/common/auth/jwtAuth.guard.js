'use strict';const _0x3bc3db=_0x2cfd;(function(_0x4ab613,_0x192910){const _0x539910=_0x2cfd,_0x23f339=_0x4ab613();while(!![]){try{const _0x698bdb=parseInt(_0x539910(0x1cb))/0x1*(-parseInt(_0x539910(0x1c8))/0x2)+-parseInt(_0x539910(0x1ba))/0x3+-parseInt(_0x539910(0x1cd))/0x4+parseInt(_0x539910(0x1ed))/0x5*(parseInt(_0x539910(0x1eb))/0x6)+-parseInt(_0x539910(0x1c9))/0x7*(parseInt(_0x539910(0x1cc))/0x8)+parseInt(_0x539910(0x1d1))/0x9+parseInt(_0x539910(0x1b3))/0xa;if(_0x698bdb===_0x192910)break;else _0x23f339['push'](_0x23f339['shift']());}catch(_0x927a34){_0x23f339['push'](_0x23f339['shift']());}}}(_0x1273,0x81b97));function _0xddbb(){const _0x41e02a=_0x2cfd,_0x3e5c31=[_0x41e02a(0x1c3),_0x41e02a(0x1d6),_0x41e02a(0x1c4),_0x41e02a(0x1c2),_0x41e02a(0x1b0),_0x41e02a(0x1f0),'verify',_0x41e02a(0x1cf),'799304QjdwDJ',_0x41e02a(0x1e7),_0x41e02a(0x1d8),_0x41e02a(0x1d4),_0x41e02a(0x1b8),_0x41e02a(0x1c7),'toString',_0x41e02a(0x1b5),_0x41e02a(0x1d9),_0x41e02a(0x1d3),_0x41e02a(0x1ab),_0x41e02a(0x1b2),'redisCacheService',_0x41e02a(0x1df),'decorate',_0x41e02a(0x1d0),_0x41e02a(0x1af),'Bearer',_0x41e02a(0x1b9),_0x41e02a(0x1f4),'authorization','x-website-domain',_0x41e02a(0x1e3),'AuthService',_0x41e02a(0x1da),'design:paramtypes',_0x41e02a(0x1e1),_0x41e02a(0x1ad),'canActivate',_0x41e02a(0x1dd),_0x41e02a(0x1bf),_0x41e02a(0x1e0),_0x41e02a(0x1c6),_0x41e02a(0x1b1),_0x41e02a(0x1d2),'moduleRef',_0x41e02a(0x1f3),_0x41e02a(0x1b6),_0x41e02a(0x1d5),_0x41e02a(0x1e6),_0x41e02a(0x1b4),_0x41e02a(0x1c5),_0x41e02a(0x1bc),'headers',_0x41e02a(0x1e2),_0x41e02a(0x1f2),_0x41e02a(0x1ec),_0x41e02a(0x1b7),'get',_0x41e02a(0x1f5),_0x41e02a(0x1bd),_0x41e02a(0x1e4)];return _0xddbb=function(){return _0x3e5c31;},_0xddbb();}const _0x1b66dd=_0x3a40;(function(_0x657c,_0x3f2744){const _0xadd190=_0x2cfd,_0x2af3f5=_0x3a40,_0x1b6eb=_0x657c();while(!![]){try{const _0x313620=-parseInt(_0x2af3f5(0x131))/0x1+-parseInt(_0x2af3f5(0x13e))/0x2*(parseInt(_0x2af3f5(0x127))/0x3)+-parseInt(_0x2af3f5(0x132))/0x4*(-parseInt(_0x2af3f5(0x138))/0x5)+parseInt(_0x2af3f5(0x124))/0x6*(parseInt(_0x2af3f5(0x119))/0x7)+-parseInt(_0x2af3f5(0x121))/0x8*(-parseInt(_0x2af3f5(0x13c))/0x9)+parseInt(_0x2af3f5(0x12e))/0xa+-parseInt(_0x2af3f5(0x129))/0xb*(-parseInt(_0x2af3f5(0x126))/0xc);if(_0x313620===_0x3f2744)break;else _0x1b6eb[_0xadd190(0x1ec)](_0x1b6eb['shift']());}catch(_0x1802fe){_0x1b6eb[_0xadd190(0x1ec)](_0x1b6eb['shift']());}}}(_0xddbb,0x80806));function _0x3a40(_0xd4223e,_0x5d612b){const _0x383eaa=_0xddbb();return _0x3a40=function(_0x1935bd,_0x49ca51){_0x1935bd=_0x1935bd-0x110;let _0x58ab65=_0x383eaa[_0x1935bd];return _0x58ab65;},_0x3a40(_0xd4223e,_0x5d612b);}function _0x3120(){const _0x3b4045=_0x2cfd,_0xecc3f2=_0x3a40,_0x224c6=[_0xecc3f2(0x118),_0xecc3f2(0x114),_0x3b4045(0x1e5),_0xecc3f2(0x130),_0xecc3f2(0x137),_0xecc3f2(0x13d),_0xecc3f2(0x141),'../../modules/auth/auth.service',_0xecc3f2(0x12b),_0x3b4045(0x1f1),_0xecc3f2(0x11a),'length',_0xecc3f2(0x13b),_0xecc3f2(0x13a),_0x3b4045(0x1ac),_0xecc3f2(0x112),_0xecc3f2(0x111),_0xecc3f2(0x145),_0xecc3f2(0x11e),_0x3b4045(0x1bb),_0xecc3f2(0x133),_0xecc3f2(0x142),_0xecc3f2(0x144),_0xecc3f2(0x149),_0xecc3f2(0x139),_0x3b4045(0x1db),_0xecc3f2(0x14a),_0xecc3f2(0x12c),_0xecc3f2(0x147),_0xecc3f2(0x13f),_0xecc3f2(0x122),'handleRequest',_0xecc3f2(0x115),_0xecc3f2(0x128),_0xecc3f2(0x140),_0xecc3f2(0x134),_0x3b4045(0x1c0),_0x3b4045(0x1ae),_0x3b4045(0x1e9),_0xecc3f2(0x117),_0x3b4045(0x1be),_0xecc3f2(0x12a),_0xecc3f2(0x113),_0xecc3f2(0x11c),_0x3b4045(0x1ef),_0xecc3f2(0x143),_0x3b4045(0x1dc),_0x3b4045(0x1ca),_0xecc3f2(0x146),_0xecc3f2(0x11b),_0x3b4045(0x1e8),_0xecc3f2(0x12f),_0xecc3f2(0x14b),_0xecc3f2(0x120),_0xecc3f2(0x11f),_0xecc3f2(0x116),_0x3b4045(0x1ee),_0x3b4045(0x1ce),_0x3b4045(0x1d7),_0xecc3f2(0x125)];return _0x3120=function(){return _0x224c6;},_0x3120();}function _0xbcd4(_0x4a0217,_0x535884){const _0xadc2c0=_0x3120();return _0xbcd4=function(_0x40a2b7,_0x323555){_0x40a2b7=_0x40a2b7-0x16c;let _0x33d69a=_0xadc2c0[_0x40a2b7];return _0x33d69a;},_0xbcd4(_0x4a0217,_0x535884);}const _0x4c19d1=_0xbcd4;(function(_0x248006,_0x477c59){const _0x3c0b0a=_0x2cfd,_0x1067ee=_0x3a40,_0x4a3307=_0xbcd4,_0x55519d=_0x248006();while(!![]){try{const _0x775e7=parseInt(_0x4a3307(0x17a))/0x1+-parseInt(_0x4a3307(0x192))/0x2*(-parseInt(_0x4a3307(0x1a3))/0x3)+-parseInt(_0x4a3307(0x18c))/0x4+-parseInt(_0x4a3307(0x171))/0x5+parseInt(_0x4a3307(0x188))/0x6*(-parseInt(_0x4a3307(0x1a2))/0x7)+parseInt(_0x4a3307(0x1a5))/0x8+-parseInt(_0x4a3307(0x16f))/0x9*(-parseInt(_0x4a3307(0x17c))/0xa);if(_0x775e7===_0x477c59)break;else _0x55519d[_0x3c0b0a(0x1ec)](_0x55519d[_0x1067ee(0x12d)]());}catch(_0x14a27c){_0x55519d[_0x1067ee(0x123)](_0x55519d[_0x1067ee(0x12d)]());}}}(_0x3120,0xc6365));var __decorate=this&&this[_0x4c19d1(0x18a)]||function(_0x5f0117,_0x3421ce,_0x420f03,_0x15b85e){const _0x25f71a=_0x3a40,_0x5fac54=_0x4c19d1;var _0x38e0a0=arguments[_0x25f71a(0x135)],_0xc7e90b=_0x38e0a0<0x3?_0x3421ce:_0x15b85e===null?_0x15b85e=Object[_0x5fac54(0x17d)](_0x3421ce,_0x420f03):_0x15b85e,_0x3d26f5;if(typeof Reflect===_0x5fac54(0x1a4)&&typeof Reflect[_0x5fac54(0x19d)]===_0x5fac54(0x199))_0xc7e90b=Reflect[_0x5fac54(0x19d)](_0x5f0117,_0x3421ce,_0x420f03,_0x15b85e);else{for(var _0x3ed979=_0x5f0117[_0x5fac54(0x18b)]-0x1;_0x3ed979>=0x0;_0x3ed979--)if(_0x3d26f5=_0x5f0117[_0x3ed979])_0xc7e90b=(_0x38e0a0<0x3?_0x3d26f5(_0xc7e90b):_0x38e0a0>0x3?_0x3d26f5(_0x3421ce,_0x420f03,_0xc7e90b):_0x3d26f5(_0x3421ce,_0x420f03))||_0xc7e90b;}return _0x38e0a0>0x3&&_0xc7e90b&&Object[_0x5fac54(0x172)](_0x3421ce,_0x420f03,_0xc7e90b),_0xc7e90b;},__metadata=this&&this[_0x4c19d1(0x193)]||function(_0x48b235,_0x135817){const _0x384bf0=_0x4c19d1;if(typeof Reflect===_0x384bf0(0x1a4)&&typeof Reflect[_0x384bf0(0x1a6)]===_0x384bf0(0x199))return Reflect[_0x384bf0(0x1a6)](_0x48b235,_0x135817);};Object[_0x4c19d1(0x172)](exports,'__esModule',{'value':!![]}),exports[_0x4c19d1(0x1a7)]=void 0x0;const redisCache_service_1=require(_0x4c19d1(0x17e)),common_1=require('@nestjs/common'),passport_1=require(_0x4c19d1(0x189)),jwt=require(_0x4c19d1(0x19b)),core_1=require(_0x4c19d1(0x18e)),globalConfig_service_1=require(_0x1b66dd(0x136)),auth_service_1=require(_0x4c19d1(0x187));let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1[_0x4c19d1(0x197)])(_0x4c19d1(0x16d)){constructor(_0x1ab52d,_0x41f97c,_0x4002b8,_0x439153){const _0xdb2cde=_0x1b66dd,_0x8fa2a0=_0x4c19d1;super(),this[_0x8fa2a0(0x185)]=_0x1ab52d,this[_0xdb2cde(0x118)]=_0x41f97c,this[_0x8fa2a0(0x18f)]=_0x4002b8,this[_0x8fa2a0(0x198)]=_0x439153;}async[_0x4c19d1(0x190)](_0x139639){const _0xb8ac17=_0x2cfd,_0x573e4b=_0x1b66dd,_0x3a22ee=_0x4c19d1;!this[_0x3a22ee(0x185)]&&(this[_0x3a22ee(0x185)]=this[_0x3a22ee(0x180)][_0x3a22ee(0x17f)](redisCache_service_1[_0x3a22ee(0x19c)],{'strict':![]}));const _0x249734=_0x139639[_0x3a22ee(0x178)]()[_0x573e4b(0x110)](),_0x10b85a=_0x249734[_0x3a22ee(0x179)][_0x3a22ee(0x174)],_0x2d567c=this[_0x3a22ee(0x19e)](_0x249734);_0x249734[_0xb8ac17(0x1c1)]=this[_0x3a22ee(0x182)](_0x2d567c);const _0x207b7a=this[_0x3a22ee(0x18f)][_0x3a22ee(0x16e)]();return await this[_0x3a22ee(0x185)][_0x3a22ee(0x196)](_0x2d567c,_0x249734),!![];}[_0x1b66dd(0x122)](_0x1e23d0){const _0x79402c=_0x1b66dd,_0x548a7a=_0x4c19d1;if(!_0x1e23d0[_0x548a7a(0x179)][_0x79402c(0x145)]){if(_0x1e23d0[_0x548a7a(0x179)][_0x548a7a(0x183)]){let _0x34543a=_0x1e23d0[_0x548a7a(0x179)][_0x548a7a(0x183)];_0x34543a>0x7fffffff&&(_0x34543a=_0x34543a[_0x548a7a(0x184)]()[_0x548a7a(0x194)](-0x9),_0x34543a=Number(String(Number(_0x34543a))));const _0x5496d=this[_0x548a7a(0x198)][_0x548a7a(0x16c)](_0x34543a);return _0x5496d;}return null;}const _0x550dbf=_0x1e23d0[_0x548a7a(0x179)][_0x548a7a(0x191)][_0x548a7a(0x186)]('\x20');if(_0x550dbf[_0x79402c(0x135)]!==0x2||_0x550dbf[0x0]!==_0x548a7a(0x195))return null;return _0x550dbf[0x1];}[_0x4c19d1(0x182)](_0x42ab50){const _0x137e3d=_0x2cfd,_0x315b5c=_0x4c19d1;try{return jwt[_0x315b5c(0x177)](_0x42ab50,process[_0x315b5c(0x175)][_0x137e3d(0x1ea)]);}catch(_0x2122e3){throw new common_1[(_0x315b5c(0x173))](_0x137e3d(0x1de),common_1[_0x315b5c(0x170)][_0x315b5c(0x181)]);}}[_0x4c19d1(0x19f)](_0x24831b,_0x448f7c,_0x242d28){const _0x996d1b=_0x4c19d1;if(_0x24831b||!_0x448f7c){console[_0x996d1b(0x176)](_0x996d1b(0x17b),_0x24831b);throw _0x24831b||new common_1[(_0x996d1b(0x1a1))]();}return _0x448f7c;}};function _0x2cfd(_0x51e1e0,_0x16b8cc){const _0x1273a9=_0x1273();return _0x2cfd=function(_0x2cfd3c,_0x2d865c){_0x2cfd3c=_0x2cfd3c-0x1ab;let _0xa92d0=_0x1273a9[_0x2cfd3c];return _0xa92d0;},_0x2cfd(_0x51e1e0,_0x16b8cc);}function _0x1273(){const _0x2ddbd6=['JwtAuthGuard','GlobalConfigService','3hfMFqU','env','jwt','../../modules/redisCache/redisCache.service','slice','authService','AuthGuard','function','defineProperty','globalConfigService','亲爱的用户,请登录后继续操作,我们正在等您的到来！','58EoskYI','UNAUTHORIZED','switchToHttp','1128hAleeV','RedisCacheService','UnauthorizedException','validateToken','18OwBSvt','153704DQtlPo','log','metadata','JWT_SECRET','12366mUXkPf','push','1720fqaRMh','11634900mBGsyV','HttpStatus','4640360IGuJPv','@nestjs/passport','extractToken','21HeVzfg','checkTokenAuth','2006808LolVqp','4547716CMABRs','@nestjs/core','getRequest','8676288JyBcyb','split','shift','err:\x20','50121XPXnGe','13854740Xgylqx','Injectable','35xtNphF','__decorate','381090hIelJx','length','7557485zUaCFJ','384825lNvVWh','__metadata','1090748noLnTj','91536BzEWAm','createTokenFromFingerprint','getNineAiToken','object','user','jsonwebtoken','33oOOVzZ','192HozHUX','830510yCtsRU','ModuleRef','../../modules/globalConfig/globalConfig.service','22gUydlr','1146908YIgbwH','HttpException','90292FFMioL','24bDoJhM','1580564gXGPOC','getOwnPropertyDescriptor','fingerprint','318766ozzgic','4005477PwcBrq'];_0x1273=function(){return _0x2ddbd6;};return _0x1273();}JwtAuthGuard=__decorate([(0x0,common_1[_0x1b66dd(0x11d)])(),__metadata(_0x4c19d1(0x19a),[redisCache_service_1[_0x1b66dd(0x147)],core_1[_0x4c19d1(0x1a0)],globalConfig_service_1[_0x4c19d1(0x18d)],auth_service_1[_0x1b66dd(0x148)]])],JwtAuthGuard),exports[_0x3bc3db(0x1d2)]=JwtAuthGuard;